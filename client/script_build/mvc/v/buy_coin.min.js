/*! petal_client 2013-07-08 */
define(["underscore","backbone","mustache","m/user","v/menu","text!tpl/buy_coin.html"],function(a,b,c,d,e,f){"use strict";var g=b.View.extend({template:f,events:{"click .sub_item_inner":"activeIt"},initialize:function(){new e,this.$el=$.ui.addOrUpdateDiv("buy_coin",""),this.model=new d,this.listenTo(this.model,"change",this.render),this.model.fetch({data:{user_id:window.objectUser.get("UserId")}}),a.bindAll(this,"render","unactiveOthers","activeIt"),this.$el.find(".sub_item").bind("tap",function(){$(this).find("input")[0].checked=!0})},unactiveOthers:function(){a.each(this.$el.find(".sub_item_inner"),function(a){$(a).removeClass("active").find("input").attr("checked",!1)})},activeIt:function(a){this.unactiveOthers();var b=$(a.target);b.hasClass("des")&&(b=b.parent()),b.hasClass("num")&&(b=b.parent().parent()),b.find("input").attr("checked",!0),b.hasClass("active")?b.removeClass("active"):b.addClass("active")},render:function(){return $.ui.updateContentDiv("buy_coin",c.to_html(this.template,this.model.toJSON())),$.ui.loadContent("#buy_coin",!1,!1,"none"),this}});return g});