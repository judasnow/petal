/*! petal_client 2013-07-08 */
if(!window.af||"function"!=typeof af){var af=function(a){function b(a,b,c){var d=t.createDocumentFragment();if(c){for(c=a.length-1;c>=0;c--)d.insertBefore(a[c],d.firstChild);b.insertBefore(d,b.firstChild)}else{for(c=0;c<a.length;c++)d.appendChild(a[c]);b.appendChild(d)}}function c(a){return a in w?w[a]:w[a]=RegExp("(^|\\s)"+a+"(\\s|$)")}function d(a){for(var b=0;b<a.length;b++)a.indexOf(a[b])!=b&&(a.splice(b,1),b--);return a}function e(a,b){var c=[];if(a==s)return c;for(;a;a=a.nextSibling)1==a.nodeType&&a!==b&&c.push(a);return c}function f(a,b){try{return b.querySelectorAll(a)}catch(c){return[]}}function g(a,b){if(a)if(a.nodeType)b[b.length++]=a;else for(var c=0,d=a.length;d>c;c++)b[b.length++]=a[c]}function h(){}function i(b,c){b.os={},b.os.webkit=c.match(/WebKit\/([\d.]+)/)?!0:!1,b.os.android=c.match(/(Android)\s+([\d.]+)/)||c.match(/Silk-Accelerated/)?!0:!1,b.os.androidICS=b.os.android&&c.match(/(Android)\s4/)?!0:!1,b.os.ipad=c.match(/(iPad).*OS\s([\d_]+)/)?!0:!1,b.os.iphone=!b.os.ipad&&c.match(/(iPhone\sOS)\s([\d_]+)/)?!0:!1,b.os.ios7=c.match(/(iPhone\sOS)\s([7_]+)/)?!0:!1,b.os.webos=c.match(/(webOS|hpwOS)[\s\/]([\d.]+)/)?!0:!1,b.os.touchpad=b.os.webos&&c.match(/TouchPad/)?!0:!1,b.os.ios=b.os.ipad||b.os.iphone,b.os.playbook=c.match(/PlayBook/)?!0:!1,b.os.blackberry=b.os.playbook||c.match(/BlackBerry/)?!0:!1,b.os.blackberry10=b.os.blackberry&&c.match(/Safari\/536/)?!0:!1,b.os.chrome=c.match(/Chrome/)?!0:!1,b.os.opera=c.match(/Opera/)?!0:!1,b.os.fennec=c.match(/fennec/i)?!0:c.match(/Firefox/)?!0:!1,b.os.ie=c.match(/MSIE 10.0/i)?!0:!1,b.os.ieTouch=b.os.ie&&c.toLowerCase().match(/touch/i)?!0:!1,b.os.supportsTouch=a.DocumentTouch&&t instanceof a.DocumentTouch||"ontouchstart"in a,b.feat={};var d=t.documentElement.getElementsByTagName("head")[0];b.feat.nativeTouchScroll="undefined"!=typeof d.style["-webkit-overflow-scrolling"]&&b.os.ios,b.feat.cssPrefix=b.os.webkit?"Webkit":b.os.fennec?"Moz":b.os.ie?"ms":b.os.opera?"O":"",b.feat.cssTransformStart=b.os.opera?"(":"3d(",b.feat.cssTransformEnd=b.os.opera?")":",0)",b.os.android&&!b.os.webkit&&(b.os.android=!1)}function j(a){return a._afmid||(a._afmid=G++)}function k(a,b,c,d){if(b=l(b),b.ns)var e=RegExp("(?:^| )"+b.ns.replace(" "," .* ?")+"(?: |$)");return(F[j(a)]||[]).filter(function(a){return!(!a||b.e&&a.e!=b.e||b.ns&&!e.test(a.ns)||c&&a.fn!=c&&("function"!=typeof a.fn||"function"!=typeof c||""+a.fn!=""+c)||d&&a.sel!=d)})}function l(a){return a=(""+a).split("."),{e:a[0],ns:a.slice(1).sort().join(" ")}}function m(a,b,c){E.isObject(a)?E.each(a,c):a.split(/\s/).forEach(function(a){c(a,b)})}function n(a,b,c,d,e){var f=j(a),g=F[f]||(F[f]=[]);m(b,c,function(b,c){var f=e&&e(c,b),h=f||c,i=function(b){var c=h.apply(a,[b].concat(b.data));return!1===c&&b.preventDefault(),c},f=E.extend(l(b),{fn:c,proxy:i,sel:d,del:f,i:g.length});g.push(f),a.addEventListener(f.e,i,!1)})}function o(a,b,c,d){var e=j(a);m(b||"",c,function(b,c){k(a,b,c,d).forEach(function(b){delete F[e][b.i],a.removeEventListener(b.e,b.proxy,!1)})})}function p(a){var b=E.extend({originalEvent:a},a);return E.each(J,function(c,d){b[c]=function(){return this[d]=H,"stopImmediatePropagation"!=c&&"stopPropagation"!=c||(a.cancelBubble=!0,a[c])?a[c].apply(a,arguments):void 0},b[d]=I}),b}function q(a,b){if(b&&a.dispatchEvent){var c=E.Event("destroy",{bubbles:!1});a.dispatchEvent(c)}if((c=j(a))&&F[c]){for(var d in F[c])a.removeEventListener(F[c][d].e,F[c][d].proxy,!1);delete F[c]}}function r(a,b){if(a){var c=a.childNodes;if(c&&0<c.length)for(var d in c)r(c[d],b);q(a,b)}}var s,t=a.document,u=[],v=u.slice,w={},x=1,y=/^\s*<(\w+)[^>]*>/,z={},A={},B={columncount:!0,fontweight:!0,lineheight:!0,"column-count":!0,"font-weight":!0,"line-height":!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,"z-index":!0,zoom:!0},C="object"==typeof MSApp,D=function(a,b){if(this.length=0,!a)return this;if(a instanceof D&&b==s)return a;if(af.isFunction(a))return af(t).ready(a);if(af.isArray(a)&&a.length!=s){for(var c=0;c<a.length;c++)this[this.length++]=a[c];return this}if(af.isObject(a)&&af.isObject(b)){if(a.length==s)a.parentNode==b&&(this[this.length++]=a);else for(c=0;c<a.length;c++)a[c].parentNode==b&&(this[this.length++]=a[c]);return this}if(af.isObject(a)&&b==s)return this[this.length++]=a,this;if(b!==s){if(b instanceof D)return b.find(a)}else b=t;return this.selector(a,b)},E=function(a,b){return new D(a,b)};E.is$=function(a){return a instanceof D},E.map=function(a,b){var c,d,e=[];if(E.isArray(a))for(d=0;d<a.length;d++)c=b(a[d],d),c!==s&&e.push(c);else if(E.isObject(a))for(d in a)a.hasOwnProperty(d)&&(c=b(a[d],d),c!==s&&e.push(c));return af([e])},E.each=function(a,b){var c;if(E.isArray(a))for(c=0;c<a.length&&!1!==b(c,a[c]);c++);else if(E.isObject(a))for(c in a)if(a.hasOwnProperty(c)&&!1===b(c,a[c]))break;return a},E.extend=function(a){if(a==s&&(a=this),1===arguments.length){for(var b in a)this[b]=a[b];return this}return v.call(arguments,1).forEach(function(b){for(var c in b)a[c]=b[c]}),a},E.isArray=function(a){return a instanceof Array&&a.push!=s},E.isFunction=function(a){return"function"==typeof a&&!(a instanceof RegExp)},E.isObject=function(a){return"object"==typeof a},E.fn=D.prototype={constructor:D,forEach:u.forEach,reduce:u.reduce,push:u.push,indexOf:u.indexOf,concat:u.concat,selector:function(a,b){if(a=a.trim(),"#"===a[0]&&-1==a.indexOf(".")&&-1===a.indexOf(" ")&&-1===a.indexOf(">"))b==t?g(b.getElementById(a.replace("#","")),this):g(f(a,b),this);else if("<"===a[0]&&">"===a[a.length-1]||-1!==a.indexOf("<")&&-1!==a.indexOf(">")){var c=t.createElement("div");C?MSApp.execUnsafeLocalFunction(function(){c.innerHTML=a.trim()}):c.innerHTML=a.trim(),g(c.childNodes,this)}else g(f(a,b),this);return this},oldElement:void 0,slice:u.slice,length:0,setupOld:function(a){return a==s?E():(a.oldElement=this,a)},map:function(a){var b,c,d=[];for(c=0;c<this.length;c++)b=a(c,this[c]),b!==s&&d.push(b);return E([d])},each:function(a){return this.forEach(function(b,c){a.call(b,c,b)}),this},ready:function(a){return"complete"===t.readyState||"loaded"===t.readyState||!E.os.ie&&"interactive"===t.readyState?a():t.addEventListener("DOMContentLoaded",a,!1),this},find:function(a){if(0===this.length)return this;for(var b,c=[],e=0;e<this.length;e++){b=E(a,this[e]);for(var f=0;f<b.length;f++)c.push(b[f])}return E(d(c))},html:function(a,b){if(0===this.length)return this;if(a===s)return this[0].innerHTML;for(var c=0;c<this.length;c++)!1!==b&&E.cleanUpContent(this[c],!1,!0),C?MSApp.execUnsafeLocalFunction(function(){this[c].innerHTML=a}):this[c].innerHTML=a;return this},text:function(a){if(0===this.length)return this;if(a===s)return this[0].textContent;for(var b=0;b<this.length;b++)this[b].textContent=a;return this},css:function(b,c,d){if(d=d!=s?d:this[0],0===this.length)return this;if(c==s&&"string"==typeof b)return a.getComputedStyle(d),d.style[b]?d.style[b]:a.getComputedStyle(d)[b];for(d=0;d<this.length;d++)if(E.isObject(b))for(var e in b)this[d].style[e]="number"!=typeof b[e]||B[e.toLowerCase()]?b[e]:b[e]+"px";else this[d].style[b]="number"!=typeof c||B[b.toLowerCase()]?c:c+"px";return this},vendorCss:function(a,b,c){return this.css(E.feat.cssPrefix+a,b,c)},cssTranslate:function(a){return this.vendorCss("Transform","translate"+E.feat.cssTransformStart+a+E.feat.cssTransformEnd)},computedStyle:function(b){return 0!==this.length&&b!=s?a.getComputedStyle(this[0],"")[b]:void 0},empty:function(){for(var a=0;a<this.length;a++)E.cleanUpContent(this[a],!1,!0),this[a].textContent="";return this},hide:function(){if(0===this.length)return this;for(var a=0;a<this.length;a++)"none"!=this.css("display",null,this[a])&&(this[a].setAttribute("afmOldStyle",this.css("display",null,this[a])),this[a].style.display="none");return this},show:function(){if(0===this.length)return this;for(var a=0;a<this.length;a++)"none"==this.css("display",null,this[a])&&(this[a].style.display=this[a].getAttribute("afmOldStyle")?this[a].getAttribute("afmOldStyle"):"block",this[a].removeAttribute("afmOldStyle"));return this},toggle:function(b){for(var c=!0===b?!0:!1,d=0;d<this.length;d++)"none"!==a.getComputedStyle(this[d]).display||b!=s&&!1===c?(this[d].setAttribute("afmOldStyle",this[d].style.display),this[d].style.display="none"):(this[d].style.display=this[d].getAttribute("afmOldStyle")!=s?this[d].getAttribute("afmOldStyle"):"block",this[d].removeAttribute("afmOldStyle"));return this},val:function(a){if(0===this.length)return a===s?void 0:this;if(a==s)return this[0].value;for(var b=0;b<this.length;b++)this[b].value=a;return this},attr:function(a,b){if(0===this.length)return b===s?void 0:this;if(b===s&&!E.isObject(a))return this[0].afmCacheId&&z[this[0].afmCacheId][a]?this[0].afmCacheId&&z[this[0].afmCacheId][a]:this[0].getAttribute(a);for(var c=0;c<this.length;c++)if(E.isObject(a))for(var d in a)E(this[c]).attr(d,a[d]);else E.isArray(b)||E.isObject(b)||E.isFunction(b)?(this[c].afmCacheId||(this[c].afmCacheId=E.uuid()),z[this[c].afmCacheId]||(z[this[c].afmCacheId]={}),z[this[c].afmCacheId][a]=b):null===b&&b!=s?(this[c].removeAttribute(a),this[c].afmCacheId&&z[this[c].afmCacheId][a]&&delete z[this[c].afmCacheId][a]):this[c].setAttribute(a,b);return this},removeAttr:function(a){for(var b=this,c=0;c<this.length;c++)a.split(/\s+/g).forEach(function(d){b[c].removeAttribute(d),b[c].afmCacheId&&z[b[c].afmCacheId][a]&&delete z[b[c].afmCacheId][a]});return this},prop:function(a,b){if(0===this.length)return b===s?void 0:this;if(b===s&&!E.isObject(a)){var c;return this[0].afmCacheId&&A[this[0].afmCacheId][a]?this[0].afmCacheId&&A[this[0].afmCacheId][a]:!(c=this[0][a])&&a in this[0]?this[0][a]:c}for(c=0;c<this.length;c++)if(E.isObject(a))for(var d in a)E(this[c]).prop(d,a[d]);else E.isArray(b)||E.isObject(b)||E.isFunction(b)?(this[c].afmCacheId||(this[c].afmCacheId=E.uuid()),A[this[c].afmCacheId]||(A[this[c].afmCacheId]={}),A[this[c].afmCacheId][a]=b):null===b&&void 0!==b?E(this[c]).removeProp(a):this[c][a]=b;return this},removeProp:function(a){for(var b=this,c=0;c<this.length;c++)a.split(/\s+/g).forEach(function(d){b[c][d]&&(b[c][d]=void 0),b[c].afmCacheId&&A[b[c].afmCacheId][a]&&delete A[b[c].afmCacheId][a]});return this},remove:function(a){if(a=E(this).filter(a),a==s)return this;for(var b=0;b<a.length;b++)E.cleanUpContent(a[b],!0,!0),a[b].parentNode.removeChild(a[b]);return this},addClass:function(a){if(a==s)return this;for(var b=0;b<this.length;b++){var c=this[b].className,d=[],e=this;a.split(/\s+/g).forEach(function(a){e.hasClass(a,e[b])||d.push(a)}),this[b].className+=(c?" ":"")+d.join(" "),this[b].className=this[b].className.trim()}return this},removeClass:function(a){if(a==s)return this;for(var b=0;b<this.length;b++){if(a==s){this[b].className="";break}var d=this[b].className;a.split(/\s+/g).forEach(function(a){d=d.replace(c(a)," ")}),this[b].className=0<d.length?d.trim():""}return this},replaceClass:function(a,b){if(a==s||b==s)return this;for(var d=0;d<this.length;d++)if(a==s)this[d].className=b;else{var e=this[d].className;a.split(/\s+/g).concat(b.split(/\s+/g)).forEach(function(a){e=e.replace(c(a)," ")}),e=e.trim(),this[d].className=0<e.length?(e+" "+b).trim():b}return this},hasClass:function(a,b){return 0===this.length?!1:(b||(b=this[0]),c(a).test(b.className))},append:function(c,d){if(c&&c.length!=s&&0===c.length)return this;(E.isArray(c)||E.isObject(c))&&(c=E(c));var e;for(e=0;e<this.length;e++)if(c.length&&"string"!=typeof c)c=E(c),b(c,this[e],d);else{var f=y.test(c)?E(c):void 0;(f==s||0===f.length)&&(f=t.createTextNode(c)),f.nodeName==s||"script"!=f.nodeName.toLowerCase()||f.type&&"text/javascript"!==f.type.toLowerCase()?f instanceof D?b(f,this[e],d):d!=s?this[e].insertBefore(f,this[e].firstChild):this[e].appendChild(f):a.eval(f.innerHTML)}return this},appendTo:function(a){return E(a).append(this),this},prependTo:function(a){return E(a).append(this,!0),this},prepend:function(a){return this.append(a,1)},insertBefore:function(a,b){if(0===this.length)return this;if(a=E(a).get(0),!a)return this;for(var c=0;c<this.length;c++)b?a.parentNode.insertBefore(this[c],a.nextSibling):a.parentNode.insertBefore(this[c],a);return this},insertAfter:function(a){this.insertBefore(a,!0)},get:function(a){return a=a==s?0:a,0>a&&(a+=this.length),this[a]?this[a]:void 0},offset:function(){var b;return 0===this.length?this:this[0]==a?{left:0,top:0,right:0,bottom:0,width:a.innerWidth,height:a.innerHeight}:(b=this[0].getBoundingClientRect(),{left:b.left+a.pageXOffset,top:b.top+a.pageYOffset,right:b.right+a.pageXOffset,bottom:b.bottom+a.pageYOffset,width:b.right-b.left,height:b.bottom-b.top})},height:function(b){return 0===this.length?this:b!=s?this.css("height",b):this[0]==this[0].window?a.innerHeight:this[0].nodeType==this[0].DOCUMENT_NODE?this[0].documentElement.offsetheight:(b=this.css("height").replace("px",""))?b:this.offset().height},width:function(b){return 0===this.length?this:b!=s?this.css("width",b):this[0]==this[0].window?a.innerWidth:this[0].nodeType==this[0].DOCUMENT_NODE?this[0].documentElement.offsetwidth:(b=this.css("width").replace("px",""))?b:this.offset().width},parent:function(a,b){if(0===this.length)return this;for(var c=[],e=0;e<this.length;e++)for(var f=this[e];f.parentNode&&f.parentNode!=t&&(c.push(f.parentNode),f.parentNode&&(f=f.parentNode),!!b););return this.setupOld(E(d(c)).filter(a))},parents:function(a){return this.parent(a,!0)},children:function(a){if(0===this.length)return this;for(var b=[],c=0;c<this.length;c++)b=b.concat(e(this[c].firstChild));return this.setupOld(E(b).filter(a))},siblings:function(a){if(0===this.length)return this;for(var b=[],c=0;c<this.length;c++)this[c].parentNode&&(b=b.concat(e(this[c].parentNode.firstChild,this[c])));return this.setupOld(E(b).filter(a))},closest:function(a,b){if(0===this.length)return this;var c=this[0],d=E(a,b);if(0===d.length)return E();for(;c&&-1==d.indexOf(c);)c=c!==b&&c!==t&&c.parentNode;return E(c)},filter:function(a){if(0===this.length||a==s)return this;for(var b=[],c=0;c<this.length;c++){var e=this[c];e.parentNode&&0<=E(a,e.parentNode).indexOf(e)&&b.push(e)}return this.setupOld(E(d(b)))},not:function(a){if(0===this.length)return this;for(var b=[],c=0;c<this.length;c++){var e=this[c];e.parentNode&&-1==E(a,e.parentNode).indexOf(e)&&b.push(e)}return this.setupOld(E(d(b)))},data:function(a,b){return this.attr("data-"+a,b)},end:function(){return this.oldElement!=s?this.oldElement:E()},clone:function(a){if(a=!1===a?!1:!0,0===this.length)return this;for(var b=[],c=0;c<this.length;c++)b.push(this[c].cloneNode(a));return E(b)},size:function(){return this.length},serialize:function(){if(0===this.length)return"";for(var a=[],b=0;b<this.length;b++)this.slice.call(this[b].elements).forEach(function(b){var c=b.getAttribute("type");if("fieldset"!=b.nodeName.toLowerCase()&&!b.disabled&&"submit"!=c&&"reset"!=c&&"button"!=c&&("radio"!=c&&"checkbox"!=c||b.checked)&&b.getAttribute("name"))if("select-multiple"==b.type)for(c=0;c<b.options.length;c++)b.options[c].selected&&a.push(b.getAttribute("name")+"="+encodeURIComponent(b.options[c].value));else a.push(b.getAttribute("name")+"="+encodeURIComponent(b.value))});return a.join("&")},eq:function(a){return E(this.get(a))},index:function(a){return a?this.indexOf(E(a)[0]):this.parent().children().indexOf(this[0])},is:function(a){return!!a&&0<this.filter(a).length}},E.ajaxSettings={type:"GET",beforeSend:h,success:h,error:h,complete:h,context:void 0,timeout:0,crossDomain:null},E.jsonP=function(b){if(C)return b.type="get",b.dataType=null,E.get(b);var c="jsonp_callback"+ ++x,d="",e=t.createElement("script");return a[c]=function(f){clearTimeout(d),E(e).remove(),delete a[c],b.success.call(void 0,f)},e.src=b.url.replace(/=\?/,"="+c),b.error&&(e.onerror=function(){clearTimeout(d),b.error.call(void 0,"","error")}),E("head").append(e),0<b.timeout&&(d=setTimeout(function(){b.error.call(void 0,"","timeout")},b.timeout)),{}},E.ajax=function(b){var c;try{var d,e=b||{};for(d in E.ajaxSettings)"undefined"==typeof e[d]&&(e[d]=E.ajaxSettings[d]);if(e.url||(e.url=a.location),e.contentType||(e.contentType="application/x-www-form-urlencoded"),e.headers||(e.headers={}),"async"in e&&!1===e.async||(e.async=!0),e.dataType)switch(e.dataType){case"script":e.dataType="text/javascript, application/javascript";break;case"json":e.dataType="application/json";break;case"xml":e.dataType="application/xml, text/xml";break;case"html":e.dataType="text/html";break;case"text":e.dataType="text/plain";break;default:e.dataType="text/html";break;case"jsonp":return E.jsonP(b)}else e.dataType="text/html";if(E.isObject(e.data)&&(e.data=E.param(e.data)),"get"===e.type.toLowerCase()&&e.data&&(e.url+=-1===e.url.indexOf("?")?"?"+e.data:"&"+e.data),/=\?/.test(e.url))return E.jsonP(e);null===e.crossDomain&&(e.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(e.url)&&RegExp.$2!=a.location.host),e.crossDomain||(e.headers=E.extend({"X-Requested-With":"XMLHttpRequest"},e.headers));var f,g=e.context,i=/^([\w-]+:)\/\//.test(e.url)?RegExp.$1:a.location.protocol;c=new a.XMLHttpRequest,c.onreadystatechange=function(){var a=e.dataType;if(4===c.readyState){clearTimeout(f);var b,d=!1;if(200<=c.status&&300>c.status||0===c.status&&"file:"==i){if("application/json"!==a||/^\s*$/.test(c.responseText))"application/xml, text/xml"===a?b=c.responseXML:"text/html"==a?(b=c.responseText,E.parseJS(b)):b=c.responseText;else try{b=JSON.parse(c.responseText)}catch(h){d=h}0===c.status&&0===b.length&&(d=!0),d?e.error.call(g,c,"parsererror",d):e.success.call(g,b,"success",c)}else d=!0,e.error.call(g,c,"error");e.complete.call(g,c,d?"error":"success")}},c.open(e.type,e.url,e.async),e.withCredentials&&(c.withCredentials=!0),e.contentType&&(e.headers["Content-Type"]=e.contentType);for(var j in e.headers)c.setRequestHeader(j,e.headers[j]);if(!1===e.beforeSend.call(g,c,e))return c.abort(),!1;0<e.timeout&&(f=setTimeout(function(){c.onreadystatechange=h,c.abort(),e.error.call(g,c,"timeout")},e.timeout)),c.send(e.data)}catch(k){console.log(k),e.error.call(g,c,"error",k)}return c},E.get=function(a,b){return this.ajax({url:a,success:b})},E.post=function(a,b,c,d){return"function"==typeof b&&(c=b,b={}),d===s&&(d="html"),this.ajax({url:a,type:"POST",data:b,dataType:d,success:c})},E.getJSON=function(a,b,c){return"function"==typeof b&&(c=b,b={}),this.ajax({url:a,data:b,success:c,dataType:"json"})},E.param=function(a,b){var c=[];if(a instanceof D)a.each(function(){c.push((b?b+"["+this.id+"]":this.id)+"="+encodeURIComponent(this.value))});else for(var d in a)if(!E.isFunction(a[d])){var e=b?b+"["+d+"]":d,f=a[d];c.push(E.isObject(f)?E.param(f,e):e+"="+encodeURIComponent(f))}return c.join("&")},E.parseJSON=function(a){return JSON.parse(a)},E.parseXML=function(a){return C?(MSApp.execUnsafeLocalFunction(function(){return(new DOMParser).parseFromString(a,"text/xml")}),void 0):(new DOMParser).parseFromString(a,"text/xml")},i(E,navigator.userAgent),E.__detectUA=i,E.uuid=function(){var a=function(){return(0|65536*(1+Math.random())).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},E.getCssMatrix=function(b){if(E.is$(b)&&(b=b.get(0)),b==s)return a.WebKitCSSMatrix||a.MSCSSMatrix||{a:0,b:0,c:0,d:0,e:0,f:0};try{if(a.WebKitCSSMatrix)return new WebKitCSSMatrix(a.getComputedStyle(b).webkitTransform);if(a.MSCSSMatrix)return new MSCSSMatrix(a.getComputedStyle(b).transform);var c=a.getComputedStyle(b)[E.feat.cssPrefix+"Transform"].replace(/[^0-9\-.,]/g,"").split(",");return{a:+c[0],b:+c[1],c:+c[2],d:+c[3],e:+c[4],f:+c[5]}}catch(d){return{a:0,b:0,c:0,d:0,e:0,f:0}}},E.create=function(a,b){var c,d=new D;if(b||"<"!==a[0]){b.html&&(b.innerHTML=b.html,delete b.html),c=t.createElement(a);for(var e in b)c[e]=b[e];d[d.length++]=c}else c=t.createElement("div"),C?MSApp.execUnsafeLocalFunction(function(){c.innerHTML=selector.trim()}):c.innerHTML=a,g(c.childNodes,d);return d},E.query=function(a,b){return a?(b=b||t,(new D).selector(a,b)):new D};var F={},G=1;E.event={add:n,remove:o},E.fn.bind=function(a,b){for(var c=0;c<this.length;c++)n(this[c],a,b);return this},E.fn.unbind=function(a,b){for(var c=0;c<this.length;c++)o(this[c],a,b);return this},E.fn.one=function(a,b){return this.each(function(c,d){n(this,a,b,null,function(a,b){return function(){var c=a.apply(d,arguments);return o(d,b,a),c}})})};var H=function(){return!0},I=function(){return!1},J={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};E.fn.delegate=function(a,b,c){for(var d=0;d<this.length;d++){var e=this[d];n(e,b,c,a,function(b){return function(c){var d,f=E(c.target).closest(a,e).get(0);return f?(d=E.extend(p(c),{currentTarget:f,liveFired:e}),b.apply(f,[d].concat([].slice.call(arguments,1)))):void 0}})}return this},E.fn.undelegate=function(a,b,c){for(var d=0;d<this.length;d++)o(this[d],b,c,a);return this},E.fn.on=function(a,b,c){return b===s||E.isFunction(b)?this.bind(a,b):this.delegate(b,a,c)},E.fn.off=function(a,b,c){return b===s||E.isFunction(b)?this.unbind(a,b):this.undelegate(b,a,c)},E.fn.trigger=function(a,b,c){for("string"==typeof a&&(a=E.Event(a,c)),a.data=b,b=0;b<this.length;b++)this[b].dispatchEvent(a);return this},E.Event=function(a,b){var c=t.createEvent("Events"),d=!0;if(b)for(var e in b)"bubbles"==e?d=!!b[e]:c[e]=b[e];return c.initEvent(a,d,!0,null,null,null,null,null,null,null,null,null,null,null,null),c},E.bind=function(a,b,c){if(a){a.__events||(a.__events={}),E.isArray(b)||(b=[b]);for(var d=0;d<b.length;d++)a.__events[b[d]]||(a.__events[b[d]]=[]),a.__events[b[d]].push(c)}},E.trigger=function(a,b,c){if(a){var d=!0;if(!a.__events)return d;E.isArray(b)||(b=[b]),E.isArray(c)||(c=[]);for(var e=0;e<b.length;e++)if(a.__events[b[e]])for(var f=a.__events[b[e]],g=0;g<f.length;g++)E.isFunction(f[g])&&!1===f[g].apply(a,c)&&(d=!1);return d}},E.unbind=function(a,b,c){if(a.__events){E.isArray(b)||(b=[b]);for(var d=0;d<b.length;d++)if(a.__events[b[d]])for(var e=a.__events[b[d]],f=0;f<e.length;f++)if(c==s&&delete e[f],e[f]==c){e.splice(f,1);break}}},E.proxy=function(a,b,c){return function(){return c?a.apply(b,c):a.apply(b,arguments)}};var K=function(a,b){for(var c=0;c<a.length;c++)r(a[c],b)};E.cleanUpContent=function(a,b,c){if(a){var d=a.childNodes;d&&0<d.length&&E.asap(K,{},[v.apply(d,[0]),c]),b&&q(a,c)}};var L=[],M=[],N=[];E.asap=function(b,c,d){if(!E.isFunction(b))throw"$.asap - argument is not a valid function";L.push(b),M.push(c?c:{}),N.push(d?d:[]),a.postMessage("afm-asap","*")},a.addEventListener("message",function(b){b.source==a&&"afm-asap"==b.data&&(b.stopPropagation(),0<L.length&&L.shift().apply(M.shift(),N.shift()))},!0);var O={};return E.parseJS=function(b){if(b){if("string"==typeof b){var c=t.createElement("div");C?MSApp.execUnsafeLocalFunction(function(){c.innerHTML=b}):c.innerHTML=b,b=c}var d=b.getElementsByTagName("script");b=null;for(var e=0;e<d.length;e++)if(0<d[e].src.length&&!O[d[e].src]&&!C){var f=t.createElement("script");f.type=d[e].type,f.src=d[e].src,t.getElementsByTagName("head")[0].appendChild(f),O[d[e].src]=1,f=null}else a.eval(d[e].innerHTML)}},"click keydown keyup keypress submit load resize change select error".split(" ").forEach(function(a){E.fn[a]=function(b){return b?this.bind(a,b):this.trigger(a)}}),["focus","blur"].forEach(function(a){E.fn[a]=function(b){if(0!==this.length){if(b)this.bind(a,b);else for(b=0;b<this.length;b++)try{this[b][a]()}catch(c){}return this}}}),E}(window);window.jq=af,"$"in window||(window.$=af),"function"==typeof define&&define.amd?define("appframework",[],function(){return af}):"undefined"!=typeof module&&module.exports&&(module.exports.af=af,module.exports.$=af),window.numOnly||(window.numOnly=function(a){if(void 0===a||""===a)return 0;if(isNaN(parseFloat(a))){if(!a.replace)return 0;a=a.replace(/[^0-9.-]/g,"")}return parseFloat(a)})}!function(a){var b,c,d,e,f=[],g=function(b){return b.jqmCSS3AnimateId||(b.jqmCSS3AnimateId=a.uuid()),b.jqmCSS3AnimateId},h=function(b){return"string"==typeof b||b instanceof String?document.getElementById(b):a.is$(b)?b[0]:b},i=function(a,b){var c,d,i=h(a);return d=g(i),f[d]?(f[d].animate(b),c=f[d]):(c=e(i,b),f[d]=c),c};a.fn.css3Animate=function(a){var b,c;for(!a.complete&&a.callback&&(a.complete=a.callback),b=i(this[0],a),a.complete=null,a.sucess=null,a.failure=null,c=1;c<this.length;c++)b.link(this[c],a);return b},a.css3AnimateQueue=function(){return new e.queue},b=a.feat.cssTransformStart,c=a.feat.cssTransformEnd,d=a.feat.cssPrefix.replace(/-/g,"")+"TransitionEnd",d=a.os.fennec||""==a.feat.cssPrefix||a.os.ie?"transitionend":d,d=d.replace(d.charAt(0),d.charAt(0).toLowerCase()),e=function(){var e=function(b,c){if(!(this instanceof e))return new e(b,c);if(this.callbacksStack=[],this.activeEvent=null,this.countStack=0,this.isActive=!1,this.el=b,this.linkFinishedProxy_=a.proxy(this.linkFinished,this),this.el){this.animate(c);var d=this;jq(this.el).bind("destroy",function(){var a=d.el.jqmCSS3AnimateId;d.callbacksStack=[],f[a]&&delete f[a]})}};return e.prototype={animate:function(e){var f,g,h,i,j,k,l,m,n,o;return this.isActive&&this.cancel(),this.isActive=!0,e?(f=!!e.addClass,f?e.removeClass?jq(this.el).replaceClass(e.removeClass,e.addClass):jq(this.el).addClass(e.addClass):(g=numOnly(e.time),0==g&&(e.time=0),e.y||(e.y=0),e.x||(e.x=0),e.previous&&(h=new a.getCssMatrix(this.el),e.y+=numOnly(h.f),e.x+=numOnly(h.e)),e.origin||(e.origin="0% 0%"),e.scale||(e.scale="1"),e.rotateY||(e.rotateY="0"),e.rotateX||(e.rotateX="0"),e.skewY||(e.skewY="0"),e.skewX||(e.skewX="0"),e.timingFunction||(e.timingFunction="linear"),("number"==typeof e.x||-1==e.x.indexOf("%")&&-1==e.x.toLowerCase().indexOf("px")&&-1==e.x.toLowerCase().indexOf("deg"))&&(e.x=parseInt(e.x)+"px"),("number"==typeof e.y||-1==e.y.indexOf("%")&&-1==e.y.toLowerCase().indexOf("px")&&-1==e.y.toLowerCase().indexOf("deg"))&&(e.y=parseInt(e.y)+"px"),i="translate"+b+e.x+","+e.y+c+" scale("+parseFloat(e.scale)+") rotate("+e.rotateX+")",a.os.opera||(i+=" rotateY("+e.rotateY+")"),i+=" skew("+e.skewX+","+e.skewY+")",this.el.style[a.feat.cssPrefix+"Transform"]=i,this.el.style[a.feat.cssPrefix+"BackfaceVisibility"]="hidden",j=a.feat.cssPrefix+"Transform",void 0!==e.opacity&&(this.el.style.opacity=e.opacity,j+=", opacity"),e.width&&(this.el.style.width=e.width,j="all"),e.height&&(this.el.style.height=e.height,j="all"),this.el.style[a.feat.cssPrefix+"TransitionProperty"]="all",-1===(""+e.time).indexOf("s")?(k="ms",l=e.time+k):-1!==e.time.indexOf("ms")?(k="ms",l=e.time):(k="s",l=e.time+k),this.el.style[a.feat.cssPrefix+"TransitionDuration"]=l,this.el.style[a.feat.cssPrefix+"TransitionTimingFunction"]=e.timingFunction,this.el.style[a.feat.cssPrefix+"TransformOrigin"]=e.origin),this.callbacksStack.push({complete:e.complete,success:e.success,failure:e.failure}),this.countStack++,m=this,n=window.getComputedStyle(this.el),f&&(o=n[a.feat.cssPrefix+"TransitionDuration"],g=numOnly(o),e.time=g,-1!==o.indexOf("ms")?k="ms":(e.time*=1e3,k="s")),0==g||"ms"==k&&5>g||"none"==n.display?a.asap(a.proxy(this.finishAnimation,this,[!1])):(m=this,this.activeEvent=function(a){clearTimeout(m.timeout),m.finishAnimation(a),m.el.removeEventListener(d,m.activeEvent,!1)},m.timeout=setTimeout(this.activeEvent,numOnly(e.time)+50),this.el.addEventListener(d,this.activeEvent,!1)),void 0):(alert("Please provide configuration options for animation of "+this.el.id),void 0)},addCallbackHook:function(a){return a&&this.callbacksStack.push(a),this.countStack++,this.linkFinishedProxy_},linkFinished:function(a){a?this.cancel():this.finishAnimation()},finishAnimation:function(a){a&&a.preventDefault(),this.isActive&&(this.countStack--,0==this.countStack&&this.fireCallbacks(!1))},fireCallbacks:function(a){var b,c,d,e,f;for(this.clearEvents(),b=this.callbacksStack,this.cleanup(),c=0;c<b.length;c++)d=b[c].complete,e=b[c].success,f=b[c].failure,d&&"function"==typeof d&&d(a),a&&f&&"function"==typeof f?f():e&&"function"==typeof e&&e()},cancel:function(){this.isActive&&this.fireCallbacks(!0)},cleanup:function(){this.callbacksStack=[],this.isActive=!1,this.countStack=0},clearEvents:function(){this.activeEvent&&this.el.removeEventListener(d,this.activeEvent,!1),this.activeEvent=null},link:function(a,b){var c={complete:b.complete,success:b.success,failure:b.failure};return b.complete=this.addCallbackHook(c),b.success=null,b.failure=null,i(a,b),b.complete=c.complete,b.success=c.success,b.failure=c.failure,this}},e}(),e.queue=function(){return{elements:[],push:function(a){this.elements.push(a)},pop:function(){return this.elements.pop()},run:function(){var a,b,c=this;0!=this.elements.length&&("function"==typeof this.elements[0]&&(a=this.shift(),a()),0!=this.elements.length&&(b=this.shift(),this.elements.length>0&&(b.complete=function(a){a||c.run()}),e(document.getElementById(b.id),b)))},shift:function(){return this.elements.shift()}}}}(jq),function(a){function b(a){return g[a].el?!0:(delete g[a],!1)}function c(){if(af.os.android&&!af.os.chrome&&af.os.webkit){var c=!1;a.bind(a.touchLayer,["cancel-enter-edit","exit-edit"],function(){if(c){c=!1;for(var a in g)b(a)&&g[a].androidFormsMode&&g[a].stopFormsMode()}})}d=!0}var d,e,f=75,g=[],h=function(b){return b.afScrollerId||(b.afScrollerId=a.uuid()),b.afScrollerId};a.fn.scroller=function(b){var c,d,f;for(f=0;f<this.length;f++)d=h(this[f]),g[d]?c=g[d]:(b||(b={}),a.feat.nativeTouchScroll||(b.useJsScroll=!0),c=e(this[f],b),g[d]=c);return 1==this.length?c:this},d=!1,e=function(){function b(b,c){var d=document.createElement("div");return d.style.position="absolute",d.style.width=b+"px",d.style.height=c+"px",d.style[a.feat.cssPrefix+"BorderRadius"]="2px",d.style.borderRadius="2px",d.style.display="none",d.className="scrollBar",d.style.background="black",d}var e,h,i=a.feat.cssTransformStart,j=a.feat.cssTransformEnd,k=function(b,f){var g;return!d&&a.touchLayer&&a.isObject(a.touchLayer)?c():a.touchLayer&&a.isObject(a.touchLayer)||(a.touchLayer={}),g="string"==typeof b||b instanceof String?document.getElementById(b):b,g?af.os.desktop?new l(g,f):f.useJsScroll?new e(g,f):new h(g,f):(alert("Could not find element for scroller "+b),void 0)},l=function(b,c){this.el=b,this.afEl=a(this.el);for(var d in c)this[d]=c[d]};return l.prototype={refresh:!1,refreshContent:"Pull to Refresh",refreshHangTimeout:2e3,refreshHeight:60,refreshElement:null,refreshCancelCB:null,refreshRunning:!1,scrollTop:0,scrollLeft:0,preventHideRefresh:!0,verticalScroll:!0,horizontalScroll:!1,refreshTriggered:!1,moved:!1,eventsActive:!1,rememberEventsActive:!1,scrollingLocked:!1,autoEnable:!0,blockFormsFix:!1,loggedPcentY:0,loggedPcentX:0,infinite:!1,infiniteEndCheck:!1,infiniteTriggered:!1,scrollSkip:!1,scrollTopInterval:null,scrollLeftInterval:null,bubbles:!0,lockBounce:!1,_scrollTo:function(a,b){var c,d,e,f,g,h,i,j;return b=parseInt(b,10),0===b||isNaN(b)?(this.el.scrollTop=Math.abs(a.y),this.el.scrollLeft=Math.abs(a.x),void 0):(c=10,d=(this.el.scrollTop-a.y)/Math.ceil(b/c),e=(this.el.scrollLeft-a.x)/Math.ceil(b/c),f=this,g=Math.ceil(this.el.scrollTop-a.y)/d,h=Math.ceil(this.el.scrollLeft-a.x)/d,i=0,j=0,f.scrollTopInterval=window.setInterval(function(){f.el.scrollTop-=d,j++,j>=g&&(f.el.scrollTop=a.y,clearInterval(f.scrollTopInterval))},c),f.scrollLeftInterval=window.setInterval(function(){f.el.scrollLeft-=e,i++,i>=h&&(f.el.scrollLeft=a.x,clearInterval(f.scrollLeftInterval))},c),void 0)},enable:function(){},disable:function(){},hideScrollbars:function(){},addPullToRefresh:function(){},_scrollToTop:function(a){this._scrollTo({x:0,y:0},a)},_scrollToBottom:function(a){this._scrollTo({x:0,y:this.el.scrollHeight-this.el.offsetHeight},a)},scrollToBottom:function(a){return this._scrollToBottom(a)},scrollToTop:function(a){return this._scrollToTop(a)},init:function(b,c){var d,e,f;this.el=b,this.afEl=a(this.el),this.defaultProperties();for(d in c)this[d]=c[d];e=this,f=function(){e.eventsActive&&e.adjustScroll()},this.afEl.bind("destroy",function(){e.disable(!0);var b=e.el.afScrollerId;g[b]&&delete g[b],a.unbind(a.touchLayer,"orientationchange-reshape",f)}),a.bind(a.touchLayer,"orientationchange-reshape",f)},needsFormsFix:function(b){return this.useJsScroll&&this.isEnabled()&&"none"!=this.el.style.display&&a(b).closest(this.afEl).size()>0
},handleEvent:function(a){if(!this.scrollingLocked)switch(a.type){case"touchstart":clearInterval(this.scrollTopInterval),this.preventHideRefresh=!this.refreshRunning,this.moved=!1,this.onTouchStart(a),this.bubbles||a.stopPropagation();break;case"touchmove":this.onTouchMove(a),this.bubbles||a.stopPropagation();break;case"touchend":this.onTouchEnd(a),this.bubbles||a.stopPropagation();break;case"scroll":this.onScroll(a)}},coreAddPullToRefresh:function(b){var c,d,e;b&&(this.refreshElement=b),null===this.refreshElement?(d=document.getElementById(this.container.id+"_pulldown"),c=null!==d?af(d):af("<div id='"+this.container.id+"_pulldown' class='afscroll_refresh' style='border-radius:.6em;border: 1px solid #2A2A2A;background-image: -webkit-gradient(linear,left top,left bottom,color-stop(0,#666666),color-stop(1,#222222));background:#222222;margin:0px;height:60px;position:relative;text-align:center;line-height:60px;color:white;width:100%;'>"+this.refreshContent+"</div>")):c=af(this.refreshElement),e=c.get(),this.refreshContainer=af('<div style="overflow:hidden;width:100%;height:0;margin:0;padding:0;padding-left:5px;padding-right:5px;display:none;"></div>'),a(this.el).prepend(this.refreshContainer.append(e,"top")),this.refreshContainer=this.refreshContainer[0]},fireRefreshRelease:function(b){var c,d;this.refresh&&b&&(c=a.trigger(this,"refresh-release",[b])!==!1,this.preventHideRefresh=!1,this.refreshRunning=!0,c&&(d=this,this.refreshHangTimeout>0&&(this.refreshCancelCB=setTimeout(function(){d.hideRefresh()},this.refreshHangTimeout))))},setRefreshContent:function(a){af(this.container).find(".afscroll_refresh").html(a)},lock:function(){this.scrollingLocked||(this.scrollingLocked=!0,this.rememberEventsActive=this.eventsActive,this.eventsActive||this.initEvents())},unlock:function(){this.scrollingLocked&&(this.scrollingLocked=!1,this.rememberEventsActive||this.removeEvents())},scrollToItem:function(b,c){a.is$(b)||(b=a(b));var d,e,f,g;"bottom"==c?(e=b.offset(),d=e.top-this.afEl.offset().bottom+e.height,d+=4):(g=b.offset().top,d=g-document.body.scrollTop,f=this.afEl.offset().top,document.body.scrollTop<f&&(d-=f),d-=4),this.scrollBy({y:d,x:0},0)},setPaddings:function(b,c){var d=a(this.el),e=numOnly(d.css("paddingTop"));d.css("paddingTop",b+"px").css("paddingBottom",c+"px"),this.scrollBy({y:b-e,x:0})},divide:function(a,b){return 0!==b?a/b:0},isEnabled:function(){return this.eventsActive},addInfinite:function(){this.infinite=!0},clearInfinite:function(){this.infiniteTriggered=!1,this.scrollSkip=!0}},e=function(c,d){this.init(c,d),this.container=this.el.parentNode,this.container.afScrollerId=c.afScrollerId,this.afEl=a(this.container),"hidden"!=this.container.style.overflow&&(this.container.style.overflow="hidden"),this.addPullToRefresh(null,!0),this.autoEnable&&this.enable(!0);var e;this.verticalScroll&&this.verticalScroll===!0&&this.scrollBars===!0&&(e=b(5,20),e.style.top="0px",this.vScrollCSS&&(e.className=this.vScrollCSS),e.style.display="none",this.container.appendChild(e),this.vscrollBar=e,e=null),this.horizontalScroll&&this.horizontalScroll===!0&&this.scrollBars===!0&&(e=b(20,5),e.style.bottom="0px",this.hScrollCSS&&(e.className=this.hScrollCSS),e.style.display="none",this.container.appendChild(e),this.hscrollBar=e,e=null),this.horizontalScroll&&(this.el.style["float"]="left"),this.el.hasScroller=!0},h=function(b,c){var d,e;c.nativeParent&&(b=b.parentNode),this.init(b,c),d=a(b),c.noParent!==!0&&(e=d.parent(),d.css("height",e.height()).css("width",e.width()),d.insertBefore(d.parent()),e.remove()),this.container=this.el,d.css("-webkit-overflow-scrolling","touch"),c.autoEnable&&this.enable()},h.prototype=new l,e.prototype=new l,h.prototype.defaultProperties=function(){this.refreshContainer=null,this.dY=this.cY=0,this.dX=this.cX=0,this.cancelPropagation=!1,this.loggedPcentY=0,this.loggedPcentX=0;var a=this;this.adjustScrollOverflowProxy_=function(){a.afEl.css("overflow","auto"),a.afEl.parent().css("overflow","hidden")}},h.prototype.enable=function(a){this.eventsActive||(this.eventsActive=!0,this.el.style.overflow="auto",this.el.parentNode.style.overflow="hidden",a||this.adjustScroll(),this.el.addEventListener("touchstart",this,!1),this.el.addEventListener("scroll",this,!1))},h.prototype.disable=function(a){this.eventsActive&&(this.logPos(this.el.scrollLeft,this.el.scrollTop),a||(this.el.style.overflow="hidden"),this.el.removeEventListener("touchstart",this,!1),this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.el.removeEventListener("scroll",this,!1),this.eventsActive=!1)},h.prototype.addPullToRefresh=function(a,b){this.el.removeEventListener("touchstart",this,!1),this.el.addEventListener("touchstart",this,!1),b||(this.refresh=!0),this.refresh&&this.refresh===!0&&(this.coreAddPullToRefresh(a),this.refreshContainer.style.position="absolute",this.refreshContainer.style.top="-60px",this.refreshContainer.style.height="60px",this.refreshContainer.style.display="block")},h.prototype.onTouchStart=function(a){0===this.el.scrollTop&&(this.el.scrollTop=1),this.el.scrollTop===this.el.scrollHeight-this.el.clientHeight&&(this.el.scrollTop-=1),this.horizontalScroll&&(0===this.el.scrollLeft&&(this.el.scrollLeft=1),this.el.scrollLeft===this.el.scrollWidth-this.el.clientWidth&&(this.el.scrollLeft-=1)),this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),this.el.addEventListener("touchmove",this,!1),this.dY=a.touches[0].pageY,(this.refresh||this.infinite)&&this.refresh&&this.dY<0&&this.showRefresh()},h.prototype.onTouchMove=function(b){var c=b.touches[0].pageY-this.dY,d=b.touches[0].pageX-this.dX;this.hasVertScroll&&this.el.clientHeight==this.el.scrollHeight&&b.preventDefault(),this.hasHorScroll&&this.el.clientWidth==this.el.scrollWidth&&b.preventDefault(),this.moved||(a.trigger(this,"scrollstart",[this.el]),a.trigger(a.touchLayer,"scrollstart",[this.el]),this.el.addEventListener("touchend",this,!1),this.moved=!0),c-this.cY,d-this.cX,this.refresh&&this.el.scrollTop<0?this.showRefresh():this.refreshTriggered&&this.refresh&&this.el.scrollTop>this.refreshHeight&&(this.refreshTriggered=!1,this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),this.hideRefresh(!1),a.trigger(this,"refresh-cancel")),this.cY=c,this.cX=d},h.prototype.showRefresh=function(){this.refreshTriggered||(this.refreshTriggered=!0,a.trigger(this,"refresh-trigger"))},h.prototype.onTouchEnd=function(){var b,c,d,e,f=this.el.scrollTop<=-this.refreshHeight;this.fireRefreshRelease(f,!0),f&&this.refresh&&(this.refreshContainer.style.position="relative",this.refreshContainer.style.top="0px"),this.dY=this.cY=0,this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.infiniteEndCheck=!0,this.infinite&&!this.infiniteTriggered&&Math.abs(this.el.scrollTop)>=this.el.scrollHeight-this.el.clientHeight&&(this.infiniteTriggered=!0,a.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0),this.touchEndFired=!0,b=200,c=this,d={top:this.el.scrollTop,left:this.el.scrollLeft},e=0,c.nativePolling=setInterval(function(){return e++,e>=b?(clearInterval(c.nativePolling),void 0):((c.el.scrollTop!=d.top||c.el.scrollLeft!=d.left)&&(clearInterval(c.nativePolling),a.trigger(a.touchLayer,"scrollend",[c.el]),a.trigger(c,"scrollend",[c.el])),void 0)},20)},h.prototype.hideRefresh=function(b){var c,d;this.preventHideRefresh||(c=this,d=function(b){b||(c.el.style[a.feat.cssPrefix+"Transform"]="none",c.el.style[a.feat.cssPrefix+"TransitionProperty"]="none",c.el.scrollTop=0,c.logPos(c.el.scrollLeft,0)),c.refreshContainer.style.top="-60px",c.refreshContainer.style.position="absolute",c.dY=c.cY=0,a.trigger(c,"refresh-finish")},b!==!1&&c.afEl.css3Animate?c.afEl.css3Animate({y:c.el.scrollTop-c.refreshHeight+"px",x:"0%",time:f+"ms",complete:d}):d(),this.refreshTriggered=!1)},h.prototype.hideScrollbars=function(){},h.prototype.scrollTo=function(a,b){return this.logPos(a.x,a.y),a.x*=-1,a.y*=-1,this._scrollTo(a,b)},h.prototype.scrollBy=function(a,b){return a.x+=this.el.scrollLeft,a.y+=this.el.scrollTop,this.logPos(this.el.scrollLeft,this.el.scrollTop),this._scrollTo(a,b)},h.prototype.scrollToBottom=function(a){this._scrollToBottom(a),this.logPos(this.el.scrollLeft,this.el.scrollTop)},h.prototype.onScroll=function(){if(this.infinite&&this.touchEndFired)return this.touchEndFired=!1,void 0;if(this.scrollSkip)return this.scrollSkip=!1,void 0;this.infinite&&!this.infiniteTriggered&&Math.abs(this.el.scrollTop)>=this.el.scrollHeight-this.el.clientHeight&&(this.infiniteTriggered=!0,a.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0);var b=this;this.infinite&&this.infiniteEndCheck&&this.infiniteTriggered&&(this.infiniteEndCheck=!1,a.trigger(b,"infinite-scroll-end"))},h.prototype.logPos=function(a,b){this.loggedPcentX=this.divide(a,this.el.scrollWidth),this.loggedPcentY=this.divide(b,this.el.scrollHeight),this.scrollLeft=a,this.scrollTop=b,isNaN(this.loggedPcentX)&&(this.loggedPcentX=0),isNaN(this.loggedPcentY)&&(this.loggedPcentY=0)},h.prototype.adjustScroll=function(){this.adjustScrollOverflowProxy_(),this.el.scrollLeft=this.loggedPcentX*this.el.scrollWidth,this.el.scrollTop=this.loggedPcentY*this.el.scrollHeight,this.logPos(this.el.scrollLeft,this.el.scrollTop)},e.prototype.defaultProperties=function(){this.boolScrollLock=!1,this.currentScrollingObject=null,this.elementInfo=null,this.verticalScroll=!0,this.horizontalScroll=!1,this.scrollBars=!0,this.vscrollBar=null,this.hscrollBar=null,this.hScrollCSS="scrollBar",this.vScrollCSS="scrollBar",this.firstEventInfo=null,this.moved=!1,this.preventPullToRefresh=!0,this.isScrolling=!1,this.androidFormsMode=!1,this.refreshSafeKeep=!1,this.lastScrollbar="",this.finishScrollingObject=null,this.container=null,this.scrollingFinishCB=null,this.loggedPcentY=0,this.loggedPcentX=0},e.prototype.enable=function(a){this.eventsActive||(this.eventsActive=!0,a?this.scrollerMoveCSS({x:0,y:0},0):this.adjustScroll(),this.container.addEventListener("touchstart",this,!1),this.container.addEventListener("touchmove",this,!1),this.container.addEventListener("touchend",this,!1))},e.prototype.adjustScroll=function(){var a=this.getViewportSize();this.scrollerMoveCSS({x:Math.round(this.loggedPcentX*(this.el.clientWidth-a.w)),y:Math.round(this.loggedPcentY*(this.el.clientHeight-a.h))},0)},e.prototype.disable=function(){if(this.eventsActive){var a=this.getCSSMatrix(this.el);this.logPos(numOnly(a.e)-numOnly(this.container.scrollLeft),numOnly(a.f)-numOnly(this.container.scrollTop)),this.container.removeEventListener("touchstart",this,!1),this.container.removeEventListener("touchmove",this,!1),this.container.removeEventListener("touchend",this,!1),this.eventsActive=!1}},e.prototype.addPullToRefresh=function(a,b){b||(this.refresh=!0),this.refresh&&this.refresh===!0&&(this.coreAddPullToRefresh(a),this.el.style.overflow="visible")},e.prototype.hideScrollbars=function(){this.hscrollBar&&(this.hscrollBar.style.display="none",this.hscrollBar.style[a.feat.cssPrefix+"TransitionDuration"]="0ms"),this.vscrollBar&&(this.vscrollBar.style.display="none",this.vscrollBar.style[a.feat.cssPrefix+"TransitionDuration"]="0ms")},e.prototype.getViewportSize=function(){var a=window.getComputedStyle(this.container);return isNaN(numOnly(a.paddingTop))&&alert(typeof a.paddingTop+"::"+a.paddingTop+":"),{h:this.container.clientHeight>window.innerHeight?window.innerHeight:this.container.clientHeight-numOnly(a.paddingTop)-numOnly(a.paddingBottom),w:this.container.clientWidth>window.innerWidth?window.innerWidth:this.container.clientWidth-numOnly(a.paddingLeft)-numOnly(a.paddingRight)}},e.prototype.onTouchStart=function(b){var c,d,e,f;this.moved=!1,this.currentScrollingObject=null,this.container&&(this.refreshCancelCB&&(clearTimeout(this.refreshCancelCB),this.refreshCancelCB=null),this.scrollingFinishCB&&(clearTimeout(this.scrollingFinishCB),this.scrollingFinishCB=null),1!=b.touches.length||this.boolScrollLock||b.touches[0].target&&void 0!==b.touches[0].target.type&&(c=b.touches[0].target.tagName.toLowerCase(),b.touches[0].target.type.toLowerCase(),"select"==c)||(d={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0},this.elementInfo={},e=this.getViewportSize(),this.elementInfo.bottomMargin=e.h,this.elementInfo.maxTop=this.el.clientHeight-this.elementInfo.bottomMargin,this.elementInfo.maxTop<0&&(this.elementInfo.maxTop=0),this.elementInfo.divHeight=this.el.clientHeight,this.elementInfo.rightMargin=e.w,this.elementInfo.maxLeft=this.el.clientWidth-this.elementInfo.rightMargin,this.elementInfo.maxLeft<0&&(this.elementInfo.maxLeft=0),this.elementInfo.divWidth=this.el.clientWidth,this.elementInfo.hasVertScroll=this.verticalScroll||this.elementInfo.maxTop>0,this.elementInfo.hasHorScroll=this.elementInfo.maxLeft>0,this.elementInfo.requiresVScrollBar=this.vscrollBar&&this.elementInfo.hasVertScroll,this.elementInfo.requiresHScrollBar=this.hscrollBar&&this.elementInfo.hasHorScroll,this.saveEventInfo(b),this.saveFirstEventInfo(b),f=this.getCSSMatrix(this.el),d.top=numOnly(f.f)-numOnly(this.container.scrollTop),d.left=numOnly(f.e)-numOnly(this.container.scrollLeft),this.container.scrollTop=this.container.scrollLeft=0,this.currentScrollingObject=this.el,this.refresh&&0===d.top?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):d.top<0&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),d.x=d.left,d.y=d.top,this.setVScrollBar(d,0,0)&&(this.vscrollBar.style.right=this.container.clientWidth>window.innerWidth?"0px":"0px",this.vscrollBar.style[a.feat.cssPrefix+"Transition"]=""),this.setHScrollBar(d,0,0)&&(this.container.clientHeight>window.innerHeight?this.hscrollBar.style.top=window.innerHeight-numOnly(this.hscrollBar.style.height)+"px":this.hscrollBar.style.bottom=numOnly(this.hscrollBar.style.height),this.hscrollBar.style[a.feat.cssPrefix+"Transition"]=""),this.lastScrollInfo=d,this.hasMoved=!1,this.scrollerMoveCSS(this.lastScrollInfo,0)))},e.prototype.getCSSMatrix=function(b){var c,d,e;return this.androidFormsMode?(c=parseInt(b.style.marginTop,10),d=parseInt(b.style.marginLeft,10),isNaN(c)&&(c=0),isNaN(d)&&(d=0),{f:c,e:d}):e=a.getCssMatrix(b)},e.prototype.saveEventInfo=function(a){this.lastEventInfo={pageX:a.touches[0].pageX,pageY:a.touches[0].pageY,time:a.timeStamp}},e.prototype.saveFirstEventInfo=function(a){this.firstEventInfo={pageX:a.touches[0].pageX,pageY:a.touches[0].pageY,time:a.timeStamp}},e.prototype.setVScrollBar=function(a,b,c){var d,e;return this.elementInfo.requiresVScrollBar?(d=parseFloat(this.elementInfo.bottomMargin/this.elementInfo.divHeight)*this.elementInfo.bottomMargin+"px",numOnly(d)>this.elementInfo.bottomMargin&&(d=this.elementInfo.bottomMargin+"px"),d!=this.vscrollBar.style.height&&(this.vscrollBar.style.height=d),e=this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height)-(this.elementInfo.maxTop+a.y)/this.elementInfo.maxTop*(this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height)),e>this.elementInfo.bottomMargin&&(e=this.elementInfo.bottomMargin),0>e&&(e=0),this.scrollbarMoveCSS(this.vscrollBar,{x:0,y:e},b,c),!0):!1},e.prototype.setHScrollBar=function(a,b,c){var d,e;return this.elementInfo.requiresHScrollBar?(d=parseFloat(this.elementInfo.rightMargin/this.elementInfo.divWidth)*this.elementInfo.rightMargin+"px",d!=this.hscrollBar.style.width&&(this.hscrollBar.style.width=d),e=this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width)-(this.elementInfo.maxLeft+a.x)/this.elementInfo.maxLeft*(this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width)),e>this.elementInfo.rightMargin&&(e=this.elementInfo.rightMargin),0>e&&(e=0),this.scrollbarMoveCSS(this.hscrollBar,{x:e,y:0},b,c),!0):!1},e.prototype.onTouchMove=function(b){var c,d,e,f,g,h,i,j,k,l,m;null!==this.currentScrollingObject&&(c=this.calculateMovement(b),this.calculateTarget(c),this.lastScrollInfo=c,this.moved||(a.trigger(this,"scrollstart"),a.trigger(a.touchLayer,"scrollstart",[this.el]),this.elementInfo.requiresVScrollBar&&(this.vscrollBar.style.display="block"),this.elementInfo.requiresHScrollBar&&(this.hscrollBar.style.display="block")),this.moved=!0,this.refresh&&0===c.top?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):c.top<0&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),this.saveEventInfo(b),this.isScrolling===!1&&(this.isScrolling=!0,this.onScrollStart&&this.onScrollStart()),d=this.getCSSMatrix(this.el),this.lastScrollInfo.top=numOnly(d.f),this.lastScrollInfo.left=numOnly(d.e),this.recalculateDeltaY(this.lastScrollInfo),this.recalculateDeltaX(this.lastScrollInfo),this.checkYboundary(this.lastScrollInfo),this.elementInfo.hasHorScroll&&this.checkXboundary(this.lastScrollInfo),e=this.lastScrollInfo.y>0&&this.lastScrollInfo.deltaY>0,f=this.lastScrollInfo.y<-this.elementInfo.maxTop&&this.lastScrollInfo.deltaY<0,(e||f)&&(g=e?this.lastScrollInfo.y:-this.lastScrollInfo.y-this.elementInfo.maxTop,h=(this.container.clientHeight-g)/this.container.clientHeight,.5>h&&(h=.5),i=0,e&&this.lastScrollInfo.top>0||f&&this.lastScrollInfo.top<-this.elementInfo.maxTop?i=this.lastScrollInfo.top:f&&(i=-this.elementInfo.maxTop),j=this.lastScrollInfo.deltaY*h,k=Math.abs(this.lastScrollInfo.deltaY*h),1>k&&(j=e?1:-1),this.lastScrollInfo.y=i+j),this.elementInfo.hasHorScroll&&(e=this.lastScrollInfo.x>0&&this.lastScrollInfo.deltaX>0,f=this.lastScrollInfo.x<-this.elementInfo.maxLeft&&this.lastScrollInfo.deltaX<0,(e||f)&&(g=e?this.lastScrollInfo.x:-this.lastScrollInfo.x-this.elementInfo.maxLeft,h=(this.container.clientWidth-g)/this.container.clientWidth,.5>h&&(h=.5),i=0,e&&this.lastScrollInfo.left>0||f&&this.lastScrollInfo.left<-this.elementInfo.maxLeft?i=this.lastScrollInfo.left:f&&(i=-this.elementInfo.maxLeft),l=this.lastScrollInfo.deltaX*h,m=Math.abs(this.lastScrollInfo.deltaX*h),1>m&&(l=e?1:-1),this.lastScrollInfo.x=i+l)),this.lockBounce&&(this.lastScrollInfo.x>0?this.lastScrollInfo.x=0:-1*this.lastScrollInfo.x>this.elementInfo.maxLeft&&(this.lastScrollInfo.x=-1*this.elementInfo.maxLeft),this.lastScrollInfo.y>0?this.lastScrollInfo.y=0:-1*this.lastScrollInfo.y>this.elementInfo.maxTop&&(this.lastScrollInfo.y=-1*this.elementInfo.maxTop)),this.scrollerMoveCSS(this.lastScrollInfo,0),this.setVScrollBar(this.lastScrollInfo,0,0),this.setHScrollBar(this.lastScrollInfo,0,0),this.refresh&&!this.preventPullToRefresh&&(!this.refreshTriggered&&this.lastScrollInfo.top>this.refreshHeight?(this.refreshTriggered=!0,a.trigger(this,"refresh-trigger")):this.refreshTriggered&&this.lastScrollInfo.top<this.refreshHeight&&(this.refreshTriggered=!1,a.trigger(this,"refresh-cancel"))),this.infinite&&!this.infiniteTriggered&&Math.abs(this.lastScrollInfo.top)>=this.el.clientHeight-this.container.clientHeight&&(this.infiniteTriggered=!0,a.trigger(this,"infinite-scroll")))},e.prototype.calculateMovement=function(a,b){var c={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0},d=b?this.firstEventInfo:this.lastEventInfo,e=b?a.pageX:a.touches[0].pageX,f=b?a.pageY:a.touches[0].pageY,g=b?a.time:a.timeStamp;return c.deltaY=this.elementInfo.hasVertScroll?f-d.pageY:0,c.deltaX=this.elementInfo.hasHorScroll?e-d.pageX:0,c.time=g,c.duration=g-d.time,c},e.prototype.calculateTarget=function(a){a.y=this.lastScrollInfo.y+a.deltaY,a.x=this.lastScrollInfo.x+a.deltaX},e.prototype.checkYboundary=function(a){var b=this.container.clientHeight/2,c=this.elementInfo.maxTop+b;if(a.y>b)a.y=b;else{if(!(-a.y>c))return;a.y=-c}this.recalculateDeltaY(a)},e.prototype.checkXboundary=function(a){var b=this.container.clientWidth/2,c=this.elementInfo.maxLeft+b;if(a.x>b)a.x=b;else{if(!(-a.x>c))return;a.x=-c}this.recalculateDeltaX(a)},e.prototype.recalculateDeltaY=function(a){var b=Math.abs(a.deltaY);a.deltaY=a.y-a.top,newAbsDeltaY=Math.abs(a.deltaY),a.duration=a.duration*newAbsDeltaY/b},e.prototype.recalculateDeltaX=function(a){var b=Math.abs(a.deltaX);a.deltaX=a.x-a.left,newAbsDeltaX=Math.abs(a.deltaX),a.duration=a.duration*newAbsDeltaX/b},e.prototype.hideRefresh=function(){var b=this;this.preventHideRefresh||(this.scrollerMoveCSS({x:0,y:0,complete:function(){a.trigger(b,"refresh-finish")}},f),this.refreshTriggered=!1)},e.prototype.setMomentum=function(a){var b=.0012;a.speedY=this.divide(a.deltaY,a.duration),a.speedX=this.divide(a.deltaX,a.duration),a.absSpeedY=Math.abs(a.speedY),a.absSpeedX=Math.abs(a.speedX),a.absDeltaY=Math.abs(a.deltaY),a.absDeltaX=Math.abs(a.deltaX),a.absDeltaY>0?(a.deltaY=(a.deltaY<0?-1:1)*a.absSpeedY*a.absSpeedY/(2*b),a.absDeltaY=Math.abs(a.deltaY),a.duration=a.absSpeedY/b,a.speedY=a.deltaY/a.duration,a.absSpeedY=Math.abs(a.speedY),(a.absSpeedY<100*b||a.absDeltaY<5)&&(a.deltaY=a.absDeltaY=a.duration=a.speedY=a.absSpeedY=0)):a.absDeltaX?(a.deltaX=(a.deltaX<0?-1:1)*a.absSpeedX*a.absSpeedX/(2*b),a.absDeltaX=Math.abs(a.deltaX),a.duration=a.absSpeedX/b,a.speedX=a.deltaX/a.duration,a.absSpeedX=Math.abs(a.speedX),(a.absSpeedX<100*b||a.absDeltaX<5)&&(a.deltaX=a.absDeltaX=a.duration=a.speedX=a.absSpeedX=0)):a.duration=0},e.prototype.onTouchEnd=function(){var b,c,d;null!==this.currentScrollingObject&&this.moved&&(this.finishScrollingObject=this.currentScrollingObject,this.currentScrollingObject=null,b=this.calculateMovement(this.lastEventInfo,!0),this.androidFormsMode||this.setMomentum(b),this.calculateTarget(b),c=this.getCSSMatrix(this.el),b.top=numOnly(c.f),b.left=numOnly(c.e),this.checkYboundary(b),this.elementInfo.hasHorScroll&&this.checkXboundary(b),d=!this.preventPullToRefresh&&(b.top>this.refreshHeight||b.y>this.refreshHeight),this.fireRefreshRelease(d,b.top>0),this.refresh&&d?(b.y=this.refreshHeight,b.duration=f):b.y>=0?(b.y=0,b.top>=0&&(b.duration=f)):(-b.y>this.elementInfo.maxTop||0===this.elementInfo.maxTop)&&(b.y=-this.elementInfo.maxTop,-b.top>this.elementInfo.maxTop&&(b.duration=f)),this.elementInfo.hasHorScroll&&(b.x>=0?(b.x=0,b.left>=0&&(b.duration=f)):(-b.x>this.elementInfo.maxLeft||0===this.elementInfo.maxLeft)&&(b.x=-this.elementInfo.maxLeft,-b.left>this.elementInfo.maxLeft&&(b.duration=f))),this.androidFormsMode&&(b.duration=0),this.scrollerMoveCSS(b,b.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setVScrollBar(b,b.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setHScrollBar(b,b.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setFinishCalback(b.duration),this.infinite&&!this.infiniteTriggered&&Math.abs(b.y)>=this.el.clientHeight-this.container.clientHeight&&(this.infiniteTriggered=!0,a.trigger(this,"infinite-scroll")))},e.prototype.setFinishCalback=function(b){var c=this;this.scrollingFinishCB=setTimeout(function(){c.hideScrollbars(),a.trigger(a.touchLayer,"scrollend",[c.el]),a.trigger(c,"scrollend",[c.el]),c.isScrolling=!1,c.elementInfo=null,c.infinite&&a.trigger(c,"infinite-scroll-end")},b)},e.prototype.startFormsMode=function(){if(!this.blockFormsFix){var b=this.getCSSMatrix(this.el);this.refreshSafeKeep=this.refresh,this.refresh=!1,this.androidFormsMode=!0,this.el.style[a.feat.cssPrefix+"Transform"]="none",this.el.style[a.feat.cssPrefix+"Transition"]="none",this.el.style[a.feat.cssPrefix+"Perspective"]="none",this.scrollerMoveCSS({x:numOnly(b.e),y:numOnly(b.f)},0),this.container.style[a.feat.cssPrefix+"Perspective"]="none",this.container.style[a.feat.cssPrefix+"BackfaceVisibility"]="visible",this.vscrollBar&&(this.vscrollBar.style[a.feat.cssPrefix+"Transform"]="none",this.vscrollBar.style[a.feat.cssPrefix+"Transition"]="none",this.vscrollBar.style[a.feat.cssPrefix+"Perspective"]="none",this.vscrollBar.style[a.feat.cssPrefix+"BackfaceVisibility"]="visible"),this.hscrollBar&&(this.hscrollBar.style[a.feat.cssPrefix+"Transform"]="none",this.hscrollBar.style[a.feat.cssPrefix+"Transition"]="none",this.hscrollBar.style[a.feat.cssPrefix+"Perspective"]="none",this.hscrollBar.style[a.feat.cssPrefix+"BackfaceVisibility"]="visible")}},e.prototype.stopFormsMode=function(){if(!this.blockFormsFix){var b=this.getCSSMatrix(this.el);this.refresh=this.refreshSafeKeep,this.androidFormsMode=!1,this.el.style[a.feat.cssPrefix+"Perspective"]=1e3,this.el.style.marginTop=0,this.el.style.marginLeft=0,this.el.style[a.feat.cssPrefix+"Transition"]="0ms linear",this.scrollerMoveCSS({x:numOnly(b.e),y:numOnly(b.f)},0),this.container.style[a.feat.cssPrefix+"Perspective"]=1e3,this.container.style[a.feat.cssPrefix+"BackfaceVisibility"]="hidden",this.vscrollBar&&(this.vscrollBar.style[a.feat.cssPrefix+"Perspective"]=1e3,this.vscrollBar.style[a.feat.cssPrefix+"BackfaceVisibility"]="hidden"),this.hscrollBar&&(this.hscrollBar.style[a.feat.cssPrefix+"Perspective"]=1e3,this.hscrollBar.style[a.feat.cssPrefix+"BackfaceVisibility"]="hidden")}},e.prototype.scrollerMoveCSS=function(b,c,d){c||(c=0),d||(d="linear"),c=numOnly(c),this.el&&this.el.style&&(this.eventsActive&&(this.androidFormsMode?(this.el.style.marginTop=Math.round(b.y)+"px",this.el.style.marginLeft=Math.round(b.x)+"px"):(this.el.style[a.feat.cssPrefix+"Transform"]="translate"+i+b.x+"px,"+b.y+"px"+j,this.el.style[a.feat.cssPrefix+"TransitionDuration"]=c+"ms",this.el.style[a.feat.cssPrefix+"TransitionTimingFunction"]=d)),this.logPos(b.x,b.y))},e.prototype.logPos=function(a,b){var c;c=this.elementInfo?{h:this.elementInfo.bottomMargin,w:this.elementInfo.rightMargin}:this.getViewportSize(),this.loggedPcentX=this.divide(a,this.el.clientWidth-c.w),this.loggedPcentY=this.divide(b,this.el.clientHeight-c.h),this.scrollTop=b,this.scrollLeft=a},e.prototype.scrollbarMoveCSS=function(b,c,d,e){d||(d=0),e||(e="linear"),b&&b.style&&(this.androidFormsMode?(b.style.marginTop=Math.round(c.y)+"px",b.style.marginLeft=Math.round(c.x)+"px"):(b.style[a.feat.cssPrefix+"Transform"]="translate"+i+c.x+"px,"+c.y+"px"+j,b.style[a.feat.cssPrefix+"TransitionDuration"]=d+"ms",b.style[a.feat.cssPrefix+"TransitionTimingFunction"]=e))},e.prototype.scrollTo=function(a,b){b||(b=0),this.scrollerMoveCSS(a,b)},e.prototype.scrollBy=function(a,b){var c=this.getCSSMatrix(this.el),d=numOnly(c.f),e=numOnly(c.e);this.scrollTo({y:d-a.y,x:e-a.x},b)},e.prototype.scrollToBottom=function(a){this.scrollTo({y:-1*(this.el.clientHeight-this.container.clientHeight),x:0},a)},e.prototype.scrollToTop=function(a){this.scrollTo({x:0,y:0},a)},k}()}(af),function(a){var b,c,d;a.fn.popup=function(a){return new c(this[0],a)},b=[],c=function(){var c=function(c,d){if(this.container="string"==typeof c||c instanceof String?document.getElementById(c):c,!this.container)return alert("Error finding container for popup "+c),void 0;try{("string"==typeof d||"number"==typeof d)&&(d={message:d,cancelOnly:"true",cancelText:"OK"}),this.id=id=d.id=d.id||a.uuid(),this.title=d.suppressTitle?"":d.title||"",this.message=d.message||"",this.cancelText=d.cancelText||"取消",this.cancelCallback=d.cancelCallback||function(){},this.cancelClass=d.cancelClass||"button",this.doneText=d.doneText||"确定",this.doneCallback=d.doneCallback||function(){},this.doneClass=d.doneClass||"button",this.cancelOnly=d.cancelOnly||!1,this.onShow=d.onShow||function(){},this.autoCloseDone=void 0!==d.autoCloseDone?d.autoCloseDone:!0,b.push(this),1==b.length&&this.show()}catch(e){console.log("error adding popup "+e)}};return c.prototype={id:null,title:null,message:null,cancelText:null,cancelCallback:null,cancelClass:null,doneText:null,doneCallback:null,doneClass:null,cancelOnly:!1,onShow:null,autoCloseDone:!0,supressTitle:!1,show:function(){var b,c=this,d='<div id="'+this.id+'" class="jqPopup hidden">'+"<header>"+this.title+"</header>"+'<div><div style="width:1px;height:1px;-webkit-transform:translate3d(0,0,0);float:right"></div>'+this.message+"</div>"+'<footer style="clear:both;">'+'<a href="javascript:;" class="'+this.cancelClass+'" id="cancel">'+this.cancelText+"</a>"+'<a href="javascript:;" class="'+this.doneClass+'" id="action">'+this.doneText+"</a>"+"</footer>"+"</div></div>";a(this.container).append(a(d)),b=a("#"+this.id),b.bind("close",function(){c.hide()}),this.cancelOnly&&(b.find("A#action").hide(),b.find("A#cancel").addClass("center")),b.find("A").each(function(){var b=a(this);b.bind("click",function(a){"cancel"==b.attr("id")?(c.cancelCallback.call(c.cancelCallback,c),c.hide()):(c.doneCallback.call(c.doneCallback,c),c.autoCloseDone&&c.hide()),a.preventDefault()})}),c.positionPopup(),a.blockUI(.5),b.removeClass("hidden"),b.bind("orientationchange",function(){c.positionPopup()}),b.find("header").show(),b.find("footer").show(),this.onShow(this)},hide:function(){var b=this;a("#"+b.id).addClass("hidden"),a.unblockUI(),setTimeout(function(){b.remove()},250)},remove:function(){var c=this,d=a("#"+c.id);d.unbind("close"),d.find("BUTTON#action").unbind("click"),d.find("BUTTON#cancel").unbind("click"),d.unbind("orientationchange").remove(),b.splice(0,1),b.length>0&&b[0].show()},positionPopup:function(){var b=a("#"+this.id);b.css("top",window.innerHeight/2.5+window.pageYOffset-b[0].clientHeight/2+"px"),b.css("left",window.innerWidth/2-b[0].clientWidth/2+"px")}},c}(),d=!1,a.blockUI=function(b){d||(b=b?" style='opacity:"+b+";'":"",a("BODY").prepend(a("<div id='mask'"+b+"></div>")),a("BODY DIV#mask").bind("touchstart",function(a){a.preventDefault()}),a("BODY DIV#mask").bind("touchmove",function(a){a.preventDefault()}),d=!0)},a.unblockUI=function(){d=!1,a("BODY DIV#mask").unbind("touchstart"),a("BODY DIV#mask").unbind("touchmove"),a("BODY DIV#mask").remove()},window.alert=function(b){(null===b||void 0===b)&&(b="null"),a("#jQUi").length>0?a("#jQUi").popup(b.toString()):a(document.body).popup(b.toString())}}(jq),function(a){a.fn.actionsheet=function(a){var c,d;for(d=0;d<this.length;d++)c=new b(this[d],a);return 1==this.length?c:this};var b=function(){var b=function(c,d){var e,f,g,h,i,k,l;if(this.el="string"==typeof c||c instanceof String?document.getElementById(c):c,!this.el)return alert("Could not find element for actionsheet "+c),void 0;if(!(this instanceof b))return new b(c,d);if("object"==typeof d)for(j in d)this[j]=d[j];try{if(e=this,f='<div id="jq_actionsheet"><div style="width:100%">',g="</div></div>","string"==typeof d)h=a(f+d+"<a href='javascript:;' class='cancel'>Cancel</a>"+g);else if("object"==typeof d)for(h=a(f+g),i=a(h.children().get()),d.push({text:"Cancel",cssClasses:"cancel"}),k=0;k<d.length;k++)l=a('<a href="javascript:;" >'+(d[k].text||"TEXT NOT ENTERED")+"</a>"),l[0].onclick=d[k].handler||function(){},d[k].cssClasses&&d[k].cssClasses.length>0&&l.addClass(d[k].cssClasses),i.append(l);a(c).find("#jq_actionsheet").remove(),a(c).find("#jq_action_mask").remove(),actionsheetEl=a(c).append(h),h.get().style[a.feat.cssPrefix+"Transition"]="all 0ms",h.css(a.feat.cssPrefix+"Transform","translate"+a.feat.cssTransformStart+"0,0"+a.feat.cssTransformEnd),h.css("top",window.innerHeight+"px"),this.el.style.overflow="hidden",h.on("click","a",function(){e.hideSheet()}),this.activeSheet=h,a(c).append('<div id="jq_action_mask" style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;z-index:9998;background:rgba(0,0,0,.4)"/>'),setTimeout(function(){h.get().style[a.feat.cssPrefix+"Transition"]="all 300ms",h.css(a.feat.cssPrefix+"Transform","translate"+a.feat.cssTransformStart+"0,"+-h.height()+"px"+a.feat.cssTransformEnd)},10)}catch(m){alert("error adding actionsheet"+m)}};return b.prototype={activeSheet:null,hideSheet:function(){var b,c,d=this;this.activeSheet.off("click","a",function(){d.hideSheet()}),a(this.el).find("#jq_action_mask").remove(),this.activeSheet.get().style[a.feat.cssPrefix+"Transition"]="all 0ms",b=this.activeSheet,c=this.el,setTimeout(function(){b.get().style[a.feat.cssPrefix+"Transition"]="all 300ms",b.css(a.feat.cssPrefix+"Transform","translate"+a.feat.cssTransformStart+"0,0px"+a.feat.cssTransformEnd),setTimeout(function(){b.remove(),b=null,c.style.overflow="none"
},500)},10)}},b}()}(jq),function(a){a.passwordBox=function(){return new b};var b=function(){this.oldPasswords={}};b.prototype={showPasswordPlainText:!1,getOldPasswords:function(b){var c,d,e=b&&document.getElementById(b)?document.getElementById(b):document;if(!e)return alert("Could not find container element for passwordBox "+b),void 0;for(c=e.getElementsByTagName("input"),d=0;d<c.length;d++)"password"==c[d].type&&a.os.webkit&&(c[d].type="text",c[d].style["-webkit-text-security"]="disc")},changePasswordVisiblity:function(b,c){b=parseInt(b);var d=document.getElementById(c);d.style[a.cssPrefix+"text-security"]=1==b?"none":"disc",a.os.webkit||(d.type=1==b?"text":"password"),d=null}}}(jq),function(a){a.selectBox={scroller:null,getOldSelects:function(b){var c,d,e,f;if(a.os.android&&!a.os.androidICS){if(!a.fn.scroller)return alert("This library requires jq.web.Scroller"),void 0;if(c=b&&document.getElementById(b)?document.getElementById(b):document,!c)return alert("Could not find container element for jq.web.selectBox "+b),void 0;for(d=c.getElementsByTagName("select"),e=this,f=0;f<d.length;f++)d[f].hasSelectBoxFix||function(b){var c,g=document.createElement("div"),h=window.getComputedStyle(b),i="intrinsic"==h.width?"100%":h.width,j=parseInt(i)>0?i:"100px",k=parseInt(b.style.height)>0?b.style.height:parseInt(h.height)?h.height:"20px";for(g.style.width=j,g.style.height=k,g.style.margin=h.margin,g.style.position=h.position,g.style.left=h.left,g.style.top=h.top,g.style.lineHeight=h.lineHeight,g.style.zIndex="1",b.value&&(g.innerHTML=b.options[b.selectedIndex].text),g.style.background="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAeCAIAAABFWWJ4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM1NjQxRUQxNUFEODExRTA5OUE3QjE3NjI3MzczNDAzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM1NjQxRUQyNUFEODExRTA5OUE3QjE3NjI3MzczNDAzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QzU2NDFFQ0Y1QUQ4MTFFMDk5QTdCMTc2MjczNzM0MDMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QzU2NDFFRDA1QUQ4MTFFMDk5QTdCMTc2MjczNzM0MDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6YWbdCAAAAlklEQVR42mIsKChgIBGwAHFPTw/xGkpKSlggrG/fvhGjgYuLC0gyMZAOoPb8//9/0Or59+8f8XrICQN66SEnDOgcp3AgKiqKqej169dY9Hz69AnCuHv3rrKyMrIKoAhcVlBQELt/gIqwstHD4B8quH37NlAQSKKJEwg3iLbBED8kpeshoGcwh5uuri5peoBFMEluAwgwAK+5aXfuRb4gAAAAAElFTkSuQmCC') right top no-repeat",g.style.backgroundColor="white",g.style.lineHeight=k,g.style.backgroundSize="contain",g.className="jqmobiSelect_fakeInput "+b.className,g.id=b.id+"_jqmobiSelect",g.style.border="1px solid gray",g.style.color="black",g.linkId=b.id,g.onclick=function(){e.initDropDown(this.linkId)},a(g).insertBefore(a(b)),b.style.display="none",b.style.webkitAppearance="none",c=0;c<b.options.length;c++)b.options[c].selected&&(g.value=b.options[c].text),b.options[c].watch("selected",function(a,c,d){return 1==d&&(b.getAttribute("multiple")||e.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),d});b.watch("selectedIndex",function(a,c,d){return this.options[d]&&(b.getAttribute("multiple")||e.updateMaskValue(this.id,this.options[d].text,this.options[d].value),this.value=this.options[d].value),d}),g=null,imageMask=null,d[f].hasSelectBoxFix=!0}(d[f]);e.createHtml()}},updateDropdown:function(a){var b,c=document.getElementById(a);if(c){for(b=0;b<c.options.length;b++)c.options[b].selected&&(fakeInput.value=c.options[b].text),c.options[b].watch("selected",function(a,b,c){return 1==c&&(that.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),c});c=null}},initDropDown:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n=this,o=document.getElementById(a);if(!o.disabled&&o&&o.options&&0!=o.options.length){for(b=a,c="",d=0,c=o.attributes.title||o.name,"object"==typeof c&&(c=c.value),document.getElementById("jqmobiSelectBoxScroll").innerHTML="",document.getElementById("jqmobiSelectBoxHeaderTitle").innerHTML=c.length>0?c:b,e=0;e<o.options.length;e++)o.options[e].watch("selected",function(a,b,c){return 1==c&&(n.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),c}),f=o.options[e].selected?!0:!1,g=document.createElement("div"),h=document.createElement("a"),i=document.createElement("span"),j=document.createElement("button"),g.className="jqmobiSelectRow",g.style.cssText="line-height:40px;font-size:14px;padding-left:10px;height:40px;width:100%;position:relative;width:100%;border-bottom:1px solid black;background:white;",g.tmpValue=e,g.onclick=function(){n.setDropDownValue(a,this.tmpValue,this)},h.style.cssText="text-decoration:none;color:black;",h.innerHTML=o.options[e].text,h.className="jqmobiSelectRowText",i.style.cssText="float:right;margin-right:20px;margin-top:-2px",f?(j.style.cssText="background: #000;padding: 0px 0px;border-radius:15px;border:3px solid black;",j.className="jqmobiSelectRowButtonFound"):(j.style.cssText="background: #ffffff;padding: 0px 0px;border-radius:15px;border:3px solid black;",j.className="jqmobiSelectRowButton"),j.style.width="20px",j.style.height="20px",j.checked=f,i.appendChild(j),g.appendChild(h),g.appendChild(i),document.getElementById("jqmobiSelectBoxScroll").appendChild(g),i=null,j=null,h=null;try{document.getElementById("jqmobiSelectModal").style.display="block"}catch(p){console.log("Error showing div "+p)}try{g&&(k=numOnly(g.style.height),l=numOnly(document.getElementById("jqmobiSelectBoxHeader").style.height),m=d*k+l>=numOnly(document.getElementById("jqmobiSelectBoxFix").clientHeight)-l?d*-k+l:0,this.scroller.scrollTo({x:0,y:m}))}catch(p){console.log("error init dropdown"+p)}g=null,o=null}},updateMaskValue:function(a,b,c){var d=document.getElementById(a+"_jqmobiSelect"),e=document.getElementById(a);d&&(d.innerHTML=b),"function"==typeof e.onchange&&e.onchange(c),d=null,e=null},setDropDownValue:function(b,c,d){var e,f=document.getElementById(b);f&&(f.getAttribute("multiple")?(e=a(f).find("option:nth-child("+(c+1)+")").get(0),e.selected?(e.selected=!1,a(d).find("button").css("background","#fff")):(e.selected=!0,a(d).find("button").css("background","#000"))):(f.selectedIndex=c,a(f).find("option").forEach(function(a){a.selected=!1}),a(f).find("option:nth-child("+(c+1)+")").get(0).selected=!0,this.scroller.scrollTo({x:0,y:0}),this.hideDropDown()),a(f).trigger("change"),f=null)},hideDropDown:function(){document.getElementById("jqmobiSelectModal").style.display="none",document.getElementById("jqmobiSelectBoxScroll").innerHTML=""},createHtml:function(){var b,c,d=this;document.getElementById("jqmobiSelectBoxContainer")||(b=document.createElement("div"),b.style.cssText="position:absolute;top:0px;bottom:0px;left:0px;right:0px;background:rgba(0,0,0,.7);z-index:200000;display:none;",b.id="jqmobiSelectModal",c=document.createElement("div"),c.id="jqmobiSelectBoxContainer",c.style.cssText="position:absolute;top:8%;bottom:10%;display:block;width:90%;margin:auto;margin-left:5%;height:90%px;background:white;color:black;border:1px solid black;border-radius:6px;",c.innerHTML='<div id="jqmobiSelectBoxHeader" style="display:block;font-family:\'Eurostile-Bold\', Eurostile, Helvetica, Arial, sans-serif;color:#fff;font-weight:bold;font-size:18px;line-height:34px;height:34px; text-transform:uppercase; text-align:left; text-shadow:rgba(0,0,0,.9) 0px -1px 1px; padding: 0px 8px 0px 8px; border-top-left-radius:5px; border-top-right-radius:5px; -webkit-border-top-left-radius:5px; -webkit-border-top-right-radius:5px; background:#39424b; margin:1px;"><div style="float:left;" id="jqmobiSelectBoxHeaderTitle"></div><div style="float:right;width:60px;margin-top:-5px"><div id="jqmobiSelectClose" class="button" style="width:60px;height:32px;line-height:32px;">Close</div></div></div><div id="jqmobiSelectBoxFix" style="position:relative;height:90%;background:white;overflow:hidden;width:100%;"><div id="jqmobiSelectBoxScroll"></div></div>',d=this,b.appendChild(c),a(document).ready(function(){var e,f;jq("#jQUi")?jq("#jQUi").append(b):document.body.appendChild(b),e=a("#jqmobiSelectClose").get(),e.onclick=function(){d.hideDropDown()},f=a("<style>.jqselectscrollBarV{opacity:1 !important;}</style>").get(),document.body.appendChild(f);try{d.scroller=a("#jqmobiSelectBoxScroll").scroller({scroller:!1,verticalScroll:!0,vScrollCSS:"jqselectscrollBarV"})}catch(g){console.log("Error creating select html "+g)}b=null,c=null,f=null}))}},HTMLElement.prototype.watch||(HTMLElement.prototype.watch=function(a,b){var c=this[a],d=c,e=function(){return d},f=function(e){return c=d,d=b.call(this,a,c,e)};delete this[a]&&(HTMLElement.defineProperty?HTMLElement.defineProperty(this,a,{get:e,set:f,enumerable:!1,configurable:!0}):HTMLElement.prototype.__defineGetter__&&HTMLElement.prototype.__defineSetter__&&(HTMLElement.prototype.__defineGetter__.call(this,a,e),HTMLElement.prototype.__defineSetter__.call(this,a,f)))}),HTMLElement.prototype.unwatch||(HTMLElement.prototype.unwatch=function(a){var b=this[a];delete this[a],this[a]=b})}(jq),function(a){function b(a){return"tagName"in a?a:a.parentNode}function c(a,b,c,d){var e=Math.abs(a-b),f=Math.abs(c-d);return e>=f?a-b>0?"Left":"Right":c-d>0?"Up":"Down"}function d(){g.last&&Date.now()-g.last>=h&&(g.el.trigger("longTap"),g={})}var e,f,g={},h=750;a(document).ready(function(){var i;a(document.body).bind("touchstart",function(c){if(c.touches&&0!=c.touches.length){var j=Date.now(),k=j-(g.last||j);c.touches&&0!=c.touches.length&&(g.el=a(b(c.touches[0].target)),e&&clearTimeout(e),g.x1=c.touches[0].pageX,g.y1=c.touches[0].pageY,g.x2=g.y2=0,k>0&&250>=k&&(g.isDoubleTap=!0),g.last=j,f=setTimeout(d,h),g.el.data("ignore-pressed")||g.el.addClass("selected"),i&&!i.data("ignore-pressed")&&i.removeClass("selected"),i=g.el)}}).bind("touchmove",function(a){g.x2=a.touches[0].pageX,g.y2=a.touches[0].pageY,clearTimeout(f)}).bind("touchend",function(){g.el&&(g.el.data("ignore-pressed")||g.el.removeClass("selected"),g.isDoubleTap?(g.el.trigger("doubleTap"),g={}):g.x2>0||g.y2>0?((Math.abs(g.x1-g.x2)>30||Math.abs(g.y1-g.y2)>30)&&g.el.trigger("swipe")&&g.el.trigger("swipe"+c(g.x1,g.x2,g.y1,g.y2)),g.x1=g.x2=g.y1=g.y2=g.last=0):"last"in g&&(g.el.trigger("tap"),e=setTimeout(function(){e=null,g.el&&g.el.trigger("singleTap"),g={}},250)))}).bind("touchcancel",function(){g.el&&!g.el.data("ignore-pressed")&&g.el.removeClass("selected"),g={},clearTimeout(f)})}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(b){a.fn[b]=function(a){return this.bind(b,a)}})}(jq),function(a){var b,c,d,e,f,g,h,i,j,k;a.touchLayer=function(b){return a.touchLayer=new k(b),a.touchLayer},b=["input","select","textarea"],c=["button","radio","checkbox","range","date"],d=a.os.ios,e=a.os.blackberry,f=a.os.blackberry||a.os.android&&!a.os.chrome,a.os.blackberry||a.os.android&&!a.os.chrome,a.os.ios,a.os.blackberry10,g=a.os.ios,h=.97,i=2,j=!1,k=function(b){this.clearTouchVars(),b.addEventListener("touchstart",this,!1),b.addEventListener("touchmove",this,!1),b.addEventListener("touchend",this,!1),b.addEventListener("click",this,!1),b.addEventListener("focusin",this,!1),document.addEventListener("scroll",this,!1),window.addEventListener("resize",this,!1),window.addEventListener("orientationchange",this,!1),this.layer=b,this.scrollEndedProxy_=a.proxy(this.scrollEnded,this),this.exitEditProxy_=a.proxy(this.exitExit,this,[]),this.launchFixUIProxy_=a.proxy(this.launchFixUI,this);var c=this;this.scrollTimeoutExpireProxy_=function(){c.scrollTimeout_=null,c.scrollTimeoutEl_.addEventListener("scroll",c.scrollEndedProxy_,!1)},this.retestAndFixUIProxy_=function(){jq.os.android&&(c.layer.style.height="100%"),a.asap(c.testAndFixUI,c,arguments)},document.addEventListener("click",function(a){void 0!==a.clientX&&null!=c.lastTouchStartX&&2>Math.abs(c.lastTouchStartX-a.clientX)&&2>Math.abs(c.lastTouchStartY-a.clientY)&&(a.preventDefault(),a.stopPropagation())},!0),a.bind(this,"scrollstart",function(a){c.isScrolling=!0,c.scrollingEl_=a,c.fireEvent("UIEvents","scrollstart",a,!1,!1)}),a.bind(this,"scrollend",function(a){c.isScrolling=!1,c.fireEvent("UIEvents","scrollend",a,!1,!1)}),this.launchFixUI(5)},k.prototype={dX:0,dY:0,cX:0,cY:0,touchStartX:null,touchStartY:null,layer:null,scrollingEl_:null,scrollTimeoutEl_:null,scrollTimeout_:null,reshapeTimeout_:null,scrollEndedProxy_:null,exitEditProxy_:null,launchFixUIProxy_:null,reHideAddressBarTimeout_:null,retestAndFixUIProxy_:null,panElementId:"header",blockClicks:!1,allowDocumentScroll_:!1,ignoreNextResize_:!1,blockPossibleClick_:!1,isScrolling:!1,isScrollingVertical_:!1,wasPanning_:!1,isPanning_:!1,isFocused_:!1,justBlurred_:!1,requiresNativeTap:!1,holdingReshapeType_:null,handleEvent:function(a){switch(a.type){case"touchstart":this.onTouchStart(a);break;case"touchmove":this.onTouchMove(a);break;case"touchend":this.onTouchEnd(a);break;case"click":this.onClick(a);break;case"blur":this.onBlur(a);break;case"scroll":this.onScroll(a);break;case"orientationchange":this.onOrientationChange(a);break;case"resize":this.onResize(a);break;case"focusin":this.onFocusIn(a)}},launchFixUI:function(a){return a||(a=i),null==this.reHideAddressBarTimeout_?this.testAndFixUI(0,a):void 0},resetFixUI:function(){this.reHideAddressBarTimeout_&&clearTimeout(this.reHideAddressBarTimeout_),this.reHideAddressBarTimeout_=null},testAndFixUI:function(a,b){var c=this.getReferenceHeight(),d=this.getCurrentHeight();return c==d||c>d*h&&d>c*h?(jq.os.android&&this.resetFixUI(),!1):(this.hideAddressBar(a,b),!0)},hideAddressBar:function(a,b){if(a>=b)return this.resetFixUI(),void 0;if(jq.os.desktop||jq.os.chrome)this.layer.style.height="100%";else if(jq.os.android){window.scrollTo(1,1),this.layer.style.height=this.isFocused_||window.innerHeight>window.outerHeight?window.innerHeight+"px":window.outerHeight/window.devicePixelRatio+"px",that=this;var c=a+1;this.reHideAddressBarTimeout_=setTimeout(this.retestAndFixUIProxy_,250*c,[c,b])}else this.isFocused_||(document.documentElement.style.height="5000px",window.scrollTo(0,0),document.documentElement.style.height=window.innerHeight+"px",this.layer.style.height=window.innerHeight+"px")},getReferenceHeight:function(){return jq.os.android?Math.ceil(window.outerHeight/window.devicePixelRatio):window.innerHeight},getCurrentHeight:function(){return jq.os.android?window.innerHeight:numOnly(document.documentElement.style.height)},onOrientationChange:function(){!this.holdingReshapeType_&&this.reshapeTimeout_?this.fireReshapeEvent("orientationchange"):this.previewReshapeEvent("orientationchange")},onResize:function(){return this.ignoreNextResize_?(this.ignoreNextResize_=!1,void 0):(this.launchFixUI()&&this.reshapeAction(),void 0)},onClick:function(e){var f,g,h,i=e.target&&void 0!=e.target.tagName?e.target.tagName.toLowerCase():"";-1===b.indexOf(i)||this.isFocused_&&!e.target!=this.focusedElement?a.os.blackberry10&&this.isFocused_&&this.focusedElement.blur():(f=e.target&&void 0!=e.target.type?e.target.type.toLowerCase():"",g=-1!==c.indexOf(f),g?this.isFocused_=!1:(this.isFocused_&&this.focusedElement.removeEventListener("blur",this,!1),this.focusedElement=e.target,this.focusedElement.addEventListener("blur",this,!1),this.isFocused_||this.justBlurred_||(a.trigger(this,"enter-edit",[e.target]),a.os.ios?(h=this,setTimeout(function(){h.fireReshapeEvent("enter-edit")},300)):this.previewReshapeEvent("enter-edit")),this.isFocused_=!0),this.justBlurred_=!1,this.allowDocumentScroll_=!0,d&&e.target.focus())},previewReshapeEvent:function(a){that=this,this.reshapeTimeout_=setTimeout(function(){that.fireReshapeEvent(a),that.reshapeTimeout_=null,that.holdingReshapeType_=null},750),this.holdingReshapeType_=a},fireReshapeEvent:function(b){a.trigger(this,"reshape"),a.trigger(this,b?b+"-reshape":"unknown-reshape")},reshapeAction:function(){this.reshapeTimeout_?(clearTimeout(this.reshapeTimeout_),this.fireReshapeEvent(this.holdingReshapeType_),this.holdingReshapeType_=null,this.reshapeTimeout_=null):this.previewReshapeEvent()},onFocusIn:function(a){this.isFocused_||this.onClick(a)},onBlur:function(b){jq.os.android&&b.target==window||(this.isFocused_=!1,this.focusedElement&&this.focusedElement.removeEventListener("blur",this,!1),this.focusedElement=null,this.justBlurred_=!0,a.asap(this.exitEditProxy_,this,[b.target]))},exitExit:function(b){if(this.justBlurred_=!1,!this.isFocused_)if(a.trigger(this,"exit-edit",[b]),this.allowDocumentScroll_=!1,a.os.ios){var c=this;setTimeout(function(){c.fireReshapeEvent("exit-edit")},300)}else this.previewReshapeEvent("exit-edit")},onScroll:function(a){this.allowDocumentScroll_||this.isPanning_||a.target!=document||(this.allowDocumentScroll_=!0,this.wasPanning_?(this.wasPanning_=!1,setTimeout(this.launchFixUIProxy_,2e3,[i])):this.launchFixUI())},onTouchStart:function(c){var d,e;this.dX=c.touches[0].pageX,this.dY=c.touches[0].pageY,this.lastTimestamp=c.timeStamp,this.lastTouchStartX=this.lastTouchStartY=null,(g||a.feat.nativeTouchScroll)&&this.checkDOMTree(c.target,this.layer),this.isScrolling&&(null!=this.scrollTimeout_?(clearTimeout(this.scrollTimeout_),this.scrollTimeout_=null,this.scrollTimeoutEl_!=this.scrollingEl_?this.scrollEnded(!1):this.blockPossibleClick_=!0):this.scrollTimeoutEl_&&(this.scrollEnded(!0),this.blockPossibleClick_=!0)),d=jq.os.android&&c&&c.target&&c.target.getAttribute&&"ignore"==c.target.getAttribute("data-touchlayer"),d||this.isFocused_&&!a.os.blackberry10?(this.requiresNativeTap=!0,this.allowDocumentScroll_=!0):f&&c.target&&void 0!=c.target.tagName?(e=c.target.tagName.toLowerCase(),-1!==b.indexOf(e)&&("select"!=e&&a.trigger(this,"pre-enter-edit",[c.target]),this.requiresNativeTap=!0)):c.target&&void 0!==c.target.tagName&&"input"==c.target.tagName.toLowerCase()&&"range"==c.target.type&&(this.requiresNativeTap=!0),this.isPanning_||this.requiresNativeTap?this.isScrollingVertical_&&this.demandVerticalScroll():(this.isScrolling&&!a.feat.nativeTouchScroll||!this.isScrolling)&&c.preventDefault()},demandVerticalScroll:function(){var a,b,c=this.scrollingEl_.scrollTop<=0;c?this.scrollingEl_.scrollTop=1:(a=this.scrollingEl_.scrollTop+this.scrollingEl_.clientHeight,b=a>=this.scrollingEl_.scrollHeight,b&&(this.scrollingEl_.scrollTop=this.scrollingEl_.scrollHeight-this.scrollingEl_.clientHeight-1))},ignoreScrolling:function(a){return void 0===a.scrollWidth||void 0===a.clientWidth?!0:void 0===a.scrollHeight||void 0===a.clientHeight?!0:!1},allowsVerticalScroll:function(a,b){var c=b.overflowY;return"scroll"==c?!0:"auto"==c&&a.scrollHeight>a.clientHeight?!0:!1},allowsHorizontalScroll:function(a,b){var c=b.overflowX;return"scroll"==c?!0:"auto"==c&&a.scrollWidth>a.clientWidth?!0:!1},checkDOMTree:function(b,c){var d,e;if(g&&this.panElementId==b.id)return this.isPanning_=!0,void 0;if(a.feat.nativeTouchScroll){if(this.ignoreScrolling(b))return;if(d=window.getComputedStyle(b),this.allowsVerticalScroll(b,d))return this.isScrollingVertical_=!0,this.scrollingEl_=b,this.isScrolling=!0,void 0;this.allowsHorizontalScroll(b,d)&&(this.isScrollingVertical_=!1,this.scrollingEl_=null,this.isScrolling=!0)}e=b==c,!e&&b.parentNode&&this.checkDOMTree(b.parentNode,c)},scrollEnded:function(a){a&&this.scrollTimeoutEl_.removeEventListener("scroll",this.scrollEndedProxy_,!1),this.fireEvent("UIEvents","scrollend",this.scrollTimeoutEl_,!1,!1),this.scrollTimeoutEl_=null},onTouchMove:function(b){var c=this.moved;return this.moved=!0,e&&(this.cY=b.touches[0].pageY-this.dY,this.cX=b.touches[0].pageX-this.dX),this.isPanning_?void 0:(this.isScrolling&&(c||this.fireEvent("UIEvents","scrollstart",this.scrollingEl_,!1,!1),this.speedY=(this.lastY-b.touches[0].pageY)/(b.timeStamp-this.lastTimestamp),this.lastY=b.touches[0].pageY,this.lastX=b.touches[0].pageX,this.lastTimestamp=b.timeStamp),a.os.blackberry10||this.requiresNativeTap?void 0:(this.isScrolling&&a.feat.nativeTouchScroll||b.preventDefault(),void 0))},onTouchEnd:function(b){var c,d;if(a.os.ios){if(j==b.changedTouches[0].identifier)return b.preventDefault(),!1;j=b.changedTouches[0].identifier}c=this.moved,e&&(c=c&&!(Math.abs(this.cX)<10&&Math.abs(this.cY)<10)),jq.os.ios&&this.requiresNativeTap||(this.allowDocumentScroll_=!1),this.isPanning_&&c?this.wasPanning_=!0:c||this.requiresNativeTap?c&&(this.isScrolling&&(this.scrollTimeoutEl_=this.scrollingEl_,Math.abs(this.speedY)<.01?this.scrollEnded(!1):this.scrollTimeout_=setTimeout(this.scrollTimeoutExpireProxy_,30)),this.requiresNativeTap&&(this.isFocused_||a.trigger(this,"cancel-enter-edit",[b.target]))):(b.preventDefault(),this.blockClicks||this.blockPossibleClick_||(d=b.target,3==d.nodeType&&(d=d.parentNode),this.fireEvent("Event","click",d,!0,b.mouseToTouch,b.changedTouches[0]),this.lastTouchStartX=this.dX,this.lastTouchStartY=this.dY)),this.clearTouchVars()},clearTouchVars:function(){this.speedY=this.lastY=this.cY=this.cX=this.dX=this.dY=0,this.moved=!1,this.isPanning_=!1,this.isScrolling=!1,this.isScrollingVertical_=!1,this.requiresNativeTap=!1,this.blockPossibleClick_=!1},fireEvent:function(b,c,d,e,f,g){var h=document.createEvent(b);h.initEvent(c,e,!0),h.target=d,g&&a.each(g,function(a,b){h[a]=b}),f&&(h.mouseToTouch=!0),d.dispatchEvent(h)}}}(jq),function(a){var b,c,d,e=(window.location.pathname,window.location.hash),f=e,g=function(){var b=this;this.availableTransitions={},this.availableTransitions["default"]=this.availableTransitions.none=this.noTransition,jq(document).ready(function(){var b,c=document.getElementById("jQUi");if(null==c){for(c=document.createElement("div"),c.id="jQUi",b=document.body;b.firstChild;)c.appendChild(b.firstChild);jq(document.body).prepend(c)}jq.os.supportsTouch&&a.touchLayer(c)}),window.AppMobi?document.addEventListener("appMobi.device.ready",function(){b.autoBoot(),this.removeEventListener("appMobi.device.ready",arguments.callee)},!1):"complete"==document.readyState||"loaded"==document.readyState?this.autoBoot():document.addEventListener("DOMContentLoaded",function(){b.autoBoot(),this.removeEventListener("DOMContentLoaded",arguments.callee)},!1),window.AppMobi||(AppMobi={},AppMobi.webRoot=""),window.addEventListener("popstate",function(){var c=a.ui.getPanelId(document.location.hash);""==c&&1===a.ui.history.length&&(c="#"+a.ui.firstDiv.id),""!=c&&0!==document.querySelectorAll(c+".panel").length&&c!="#"+a.ui.activeDiv.id&&b.goBack()},!1)};g.prototype={showLoading:!0,loadContentQueue:[],isAppMobi:!1,titlebar:"",navbar:"",header:"",viewportContainer:"",backButton:"",remotePages:{},history:[],homeDiv:"",screenWidth:"",content:"",modalWindow:"",customFooter:!1,defaultFooter:"",defaultHeader:null,customMenu:!1,defaultMenu:"",_readyFunc:null,doingTransition:!1,passwordBox:jq.passwordBox?new jq.passwordBox:!1,selectBox:jq.selectBox?jq.selectBox:!1,ajaxUrl:"",transitionType:"slide",scrollingDivs:[],firstDiv:"",hasLaunched:!1,launchCompleted:!1,activeDiv:"",customClickHandler:"",activeDiv:"",menuAnimation:null,togglingSideMenu:!1,autoBoot:function(){this.hasLaunched=!0,this.autoLaunch&&this.launch()},css3animate:function(a,b){return a=jq(a),a.css3Animate(b)},loadDefaultHash:!0,useAjaxCacheBuster:!1,actionsheet:function(a){return jq("#jQUi").actionsheet(a)},popup:function(b){return a("#jQUi").popup(b)},blockUI:function(b){a.blockUI(b)},unblockUI:function(){a.unblockUI()},removeFooterMenu:function(){jq("#navbar").hide(),jq("#content").css("bottom","0px"),this.showNavMenu=!1},showNavMenu:!0,autoLaunch:!0,showBackbutton:!0,backButtonText:"",resetScrollers:!0,ready:function(a){this.launchCompleted?a():document.addEventListener("jq.ui.ready",function(){a(),this.removeEventListener("jq.ui.ready",arguments.callee)},!1)},setBackButtonStyle:function(a){jq("#backButton").get(0).className=a},goBack:function(){var a,b;this.history.length>0&&(a=this,b=this.history.pop(),a.loadContent(b.target+"",0,1,b.transition),a.transitionType=b.transition,a.updateHash(b.target))},clearHistory:function(){this.history=[],this.setBackButtonVisibility(!1)},pushHistory:function(a,b,c){this.history.push({target:a,transition:c});try{return}catch(d){}},updateHash:function(){},getPanelId:function(a){var b=a.indexOf("/");return-1==b?a:a.substring(0,b)},updateBadge:function(a,b,c,d){void 0===c&&(c=""),"#"!=a[0]&&(a="#"+a);var e=jq(a).find("span.jq-badge");0==e.length?("absolute"!=jq(a).css("position")&&jq(a).css("position","relative"),e=jq("<span class='jq-badge "+c+"'>"+b+"</span>"),jq(a).append(e)):e.html(b),jq.isObject(d)?e.css(d):d&&e.css("background",d),e.data("ignore-pressed","true")},removeBadge:function(a){jq(a).find("span.jq-badge").remove()},toggleNavMenu:function(a){this.showNavMenu&&("none"!=jq("#navbar").css("display")&&(void 0!==a&&a!==!0||void 0===a)?(jq("#content").css("bottom","0px"),jq("#navbar").hide()):(void 0===a||void 0!==a&&a===!0)&&(jq("#navbar").show(),jq("#content").css("bottom",jq("#navbar").css("height"))))},toggleHeaderMenu:function(a){if("none"!=jq("#header").css("display")&&(void 0!==a&&a!==!0||void 0===a))jq("#content").css("top","0px"),jq("#header").hide();else if(void 0===a||void 0!==a&&a===!0){jq("#header").show();var b=numOnly(jq("#header").css("height"));jq("#content").css("top",b+"px")}},toggleSideMenu:function(a,b){var c,d,e;this.isSideMenuEnabled()&&!this.togglingSideMenu&&(this.togglingSideMenu=!0,c=this,d=jq("#menu"),e=jq("#content, #menu, #header, #navbar"),d.hasClass("on")||d.hasClass("to-on")||(void 0===a||a===!1)&&void 0!==a?(void 0===a||void 0!==a&&a===!1)&&c.css3animate(e,{removeClass:"on off to-on",addClass:"to-off",complete:function(a){a?(c.togglingSideMenu=!1,b&&b(!0)):c.css3animate(e,{removeClass:"to-off on to-on",addClass:"off",time:0,complete:function(){d.hide(),c.togglingSideMenu=!1,b&&b(!1)}})}}):(d.show(),c.css3animate(e,{removeClass:"to-off off on",addClass:"to-on",complete:function(a){a?(c.togglingSideMenu=!1,b&&b(!0)):c.css3animate(e,{removeClass:"to-off off to-on",addClass:"on",time:0,complete:function(){c.togglingSideMenu=!1,b&&b(!1)}})}})))},disableSideMenu:function(){var a=jq("#content, #menu, #header, #navbar");this.isSideMenuOn()?this.toggleSideMenu(!1,function(b){b||a.removeClass("hasMenu")}):a.removeClass("hasMenu")},enableSideMenu:function(){var a=jq("#content, #menu, #header, #navbar");a.addClass("hasMenu")},isSideMenuEnabled:function(){return jq("#content").hasClass("hasMenu")},isSideMenuOn:function(){var a=jq("#menu");return this.isSideMenuEnabled()&&(a.hasClass("on")||a.hasClass("to-on"))},updateNavbarElements:function(a){var b,c,d,e=jq("#navbar");if(void 0!==a&&null!=a){if("string"==typeof a)return e.html(a,!0),null;for(e.html(""),b=0;b<a.length;b++)c=a[b].cloneNode(!0),e.append(c);d=jq("#navbar a"),d.length>0&&d.data("ignore-pressed","true").data("resetHistory","true")}},updateHeaderElements:function(a){var b,c,d=jq("#header");if(void 0!==a&&null!=a){if("string"==typeof a)return d.html(a,!0),null;for(d.html(""),b=0;b<a.length;b++)c=a[b].cloneNode(!0),d.append(c)}},updateSideMenu:function(a){var b,c,d,e,f=this,g=jq("#menu_scroller");if(void 0!==a&&null!=a){if("string"==typeof a)g.html(a,!0);else for(g.html(""),b=document.createElement("a"),b.className="closebutton jqMenuClose",b.href="javascript:;",b.onclick=function(){f.toggleSideMenu(!1)},g.append(b),c=document.createElement("div"),c.className="jqMenuHeader",c.innerHTML="Menu",g.append(c),d=0;d<a.length;d++)e=a[d].cloneNode(!0),g.append(e);this.scrollingDivs.menu_scroller.hideScrollbars(),this.scrollingDivs.menu_scroller.scrollToTop()}},setTitle:function(a){jq("#header #pageTitle").html(a)},setBackButtonText:function(a){this.backButtonText.length>0?jq("#header #backButton").html(this.backButtonText):jq("#header #backButton").html(a)},setBackButtonVisibility:function(a){a?jq("#header #backButton").css("visibility","visible"):jq("#header #backButton").css("visibility","hidden")},showMask:function(a){a||(a="加载中..."),jq("#jQui_mask>h1").html(a),jq("#jQui_mask").show()},hideMask:function(){jq("#jQui_mask").hide()},showModal:function(b){var c=this;b="#"+b.replace("#","");try{jq(b)&&(jq("#modalContainer").html(a.feat.nativeTouchScroll?jq(b).html():jq(b).get(0).childNodes[0].innerHTML+"",!0),jq("#modalContainer").append("<a href='javascript:;' onclick='$.ui.hideModal();' class='closebutton modalbutton'></a>"),this.modalWindow.style.display="block",button=null,content=null,this.scrollingDivs.modal_container.enable(c.resetScrollers),this.scrollToTop("modal"),jq("#modalContainer").data("panel",b))}catch(d){console.log("Error with modal - "+d,this.modalWindow)}},hideModal:function(){var b,c;a("#modalContainer").html("",!0),jq("#jQui_modal").hide(),this.scrollingDivs.modal_container.disable(),b=a(a("#modalContainer").data("panel")),c=b.data("unload"),"string"==typeof c&&window[c]&&window[c](b.get(0)),b.trigger("unloadpanel")},updateContentDiv:function(b,c){var d,e;b="#"+b.replace("#",""),d=jq(b).get(0),d&&(e=document.createElement("div"),e.innerHTML=c,a(e).children(".panel")&&a(e).children(".panel").length>0&&(e=a(e).children(".panel").get()),d.getAttribute("js-scrolling")&&"yes"==d.getAttribute("js-scrolling").toLowerCase()?(a.cleanUpContent(d.childNodes[0],!1,!0),d.childNodes[0].innerHTML=c):(a.cleanUpContent(d,!1,!0),d.innerHTML=c),a(e).title&&(d.title=a(e).title))},addContentDiv:function(b,c,d,e,f){var g,h,i;return b="string"!=typeof b?b:-1==b.indexOf("#")?"#"+b:b,g=jq(b).get(0),g?h=g:(h=document.createElement("div"),h.innerHTML=c,a(h).children(".panel")&&a(h).children(".panel").length>0&&(h=a(h).children(".panel").get()),!h.title&&d&&(h.title=d),i=h.id?h.id:b.replace("#",""),h.id=i,h.id!=b&&h.setAttribute("data-crc",b.replace("#",""))),h.className="panel",i=h.id,this.addDivAndScroll(h,e,f),g=null,h=null,i},addDivAndScroll:function(b,c,d,e){var f,g=!1,h=b.style.overflow,i="hidden"!=h&&"visible"!=h;e=e||this.content,!a.feat.nativeTouchScroll&&i&&b.setAttribute("js-scrolling","yes"),b.getAttribute("js-scrolling")&&"yes"==b.getAttribute("js-scrolling").toLowerCase()&&(g=!0,i=!0),b.getAttribute("scrolling")&&"no"==b.getAttribute("scrolling")&&(i=!1,g=!1,b.removeAttribute("js-scrolling")),g?(f=b.cloneNode(!1),b.title=null,b.id=null,b.removeAttribute("data-footer"),b.removeAttribute("data-nav"),b.removeAttribute("data-header"),b.removeAttribute("selected"),b.removeAttribute("data-load"),b.removeAttribute("data-unload"),b.removeAttribute("data-tab"),jq(b).replaceClass("panel","jqmScrollPanel"),f.appendChild(b),e.appendChild(f),this.selectBox!==!1&&this.selectBox.getOldSelects(f.id),this.passwordBox!==!1&&this.passwordBox.getOldPasswords(f.id)):(e.appendChild(b),f=b,b.style["-webkit-overflow-scrolling"]="none"),i&&(this.scrollingDivs[f.id]=jq(b).scroller({scrollBars:!0,verticalScroll:!0,horizontalScroll:!1,vScrollCSS:"jqmScrollbar",refresh:c,useJsScroll:g,noParent:!g,autoEnable:!1}),d&&a.bind(this.scrollingDivs[f.id],"refresh-release",function(a){a&&d()})),b=null,f=null},scrollToTop:function(a){this.scrollingDivs[a]&&this.scrollingDivs[a].scrollToTop("300ms")},scrollToBottom:function(a){this.scrollingDivs[a]&&this.scrollingDivs[a].scrollToBottom("300ms")},parsePanelFunctions:function(b,c){var d,e,f,g,h=this,i=b.getAttribute("data-footer"),j=b.getAttribute("data-header");i&&"none"==i.toLowerCase()?h.toggleNavMenu(!1):h.toggleNavMenu(!0),i&&h.customFooter!=i?(h.customFooter=i,h.updateNavbarElements(jq("#"+i).children())):i!=h.customFooter&&(h.customFooter&&h.updateNavbarElements(h.defaultFooter),h.customFooter=!1),j&&"none"==j.toLowerCase()?h.toggleHeaderMenu(!1):h.toggleHeaderMenu(!0),j&&h.customHeader!=j?(h.customHeader=j,h.updateHeaderElements(jq("#"+j).children())):j!=h.customHeader&&(h.customHeader&&(h.updateHeaderElements(h.defaultHeader),h.setTitle(h.activeDiv.title)),h.customHeader=!1),b.getAttribute("data-tab")&&(jq("#navbar a").removeClass("selected"),jq("#"+b.getAttribute("data-tab")).addClass("selected")),d=a(b).find("footer"),d.length>0&&(h.customFooter=b.id,h.updateNavbarElements(d.children())),e=a(b).find("header"),e.length>0&&(h.customHeader=b.id,h.updateHeaderElements(e.children())),b.getAttribute("data-tab")&&(jq("#navbar a").removeClass("selected"),jq("#navbar #"+b.getAttribute("data-tab")).addClass("selected")),f=b.getAttribute("data-nav"),f&&this.customMenu!=f?(this.customMenu=f,this.updateSideMenu(jq("#"+f).children())):f!=this.customMenu&&(this.customMenu&&this.updateSideMenu(this.defaultMenu),this.customMenu=!1),c&&(g=c.getAttribute("data-unload"),"string"==typeof g&&window[g]&&window[g](c),a(c).trigger("unloadpanel")),g=b.getAttribute("data-load"),"string"==typeof g&&window[g]&&window[g](b),a(b).trigger("loadpanel"),this.isSideMenuOn()&&this.toggleSideMenu(!1)
},parseScriptTags:function(b){b&&a.parseJS(b)},loadContent:function(a,b,c,e,f){var g,h,i;return this.doingTransition?(this.loadContentQueue.push([a,b,c,e,f]),void 0):(0!==a.length&&(what=null,g=!0,f=f||document.createElement("a"),-1==a.indexOf("#")&&(h="url"+d(a),i=jq("div.panel[data-crc='"+h+"']"),jq("#"+a).length>0?g=!1:i.length>0?(g=!1,"true"===f.getAttribute("data-refresh-ajax")||f.refresh&&f.refresh===!0||this.isAjaxApp?g=!0:a="#"+i.get(0).id):jq("#"+h).length>0&&(g=!1,"true"===f.getAttribute("data-refresh-ajax")||f.refresh&&f.refresh===!0||this.isAjaxApp?g=!0:a="#"+h)),-1==a.indexOf("#")&&g?this.loadAjax(a,b,c,e,f):this.loadDiv(a,b,c,e)),void 0)},loadDiv:function(b,c,d,e){var g,h,i,j,k,l=this;return what=b.replace("#",""),g=what.indexOf("/"),h="",-1!=g&&(h=what.substr(g),what=what.substr(0,g)),(what=jq("#"+what).get(0))?what!=this.activeDiv||d?(this.transitionType=e,i=this.activeDiv,j=what,"true"==what.getAttribute("data-modal")||"true"==what.getAttribute("modal")?(k=what.getAttribute("data-load"),"string"==typeof k&&window[k]&&window[k](what),a(what).trigger("loadpanel"),this.showModal(what.id)):(i!=j&&(c?(this.clearHistory(),this.pushHistory("#"+this.firstDiv.id,what.id,e,h)):d||this.pushHistory(f,what.id,e,h),f="#"+what.id+h,this.doingTransition=!0,i.style.display="block",j.style.display="block",this.runTransition(e,i,j,d),this.parsePanelFunctions(what,i),this.loadContentData(what,c,d,e),l=this,setTimeout(function(){l.scrollingDivs[i.id]&&l.scrollingDivs[i.id].disable()},200)),void 0)):(this.isSideMenuOn()&&this.toggleSideMenu(!1),void 0):console.log("Target: "+b+" was not found")},loadContentData:function(a,b,c){var d,e,f,g;c?this.history.length>0&&(d=this.history[this.history.length-1],e=d.target.indexOf("/"),f=-1!=e?d.target.substr(0,e):d.target,g=jq(f).get(0),g?this.setBackButtonText(g.title):this.setBackButtonText("Back")):this.activeDiv.title?this.setBackButtonText(this.activeDiv.title):this.setBackButtonText("Back"),a.title&&this.setTitle(a.title),b&&this.setBackButtonText(this.firstDiv.title),0==this.history.length?(this.setBackButtonVisibility(!1),this.history=[]):this.showBackbutton&&this.setBackButtonVisibility(!0),this.activeDiv=a,this.scrollingDivs[this.activeDiv.id]&&this.scrollingDivs[this.activeDiv.id].enable(this.resetScrollers)},loadAjax:function(a,b,c,e,f){var g,h,i,j;("jQui_ajax"!=this.activeDiv.id||a!=this.ajaxUrl)&&(g="url"+d(a),h=this,-1==a.indexOf("http")&&(a=AppMobi.webRoot+a),i=new XMLHttpRequest,i.onreadystatechange=function(){var d,j,k;return 4==i.readyState&&200==i.status?(this.doingTransition=!1,d=!1,jq("#"+g).length>0?(h.updateContentDiv(g,i.responseText),jq("#"+g).get(0).title=f.title?f.title:a):f.getAttribute("data-persist-ajax")||h.isAjaxApp?(j="true"===f.getAttribute("data-pull-scroller")?!0:!1,refreshFunction=j?function(){f.refresh=!0,h.loadContent(a,b,c,e,f),f.refresh=!1}:null,g=h.addContentDiv(g,i.responseText,f.title?f.title:a,j,refreshFunction)):(h.updateContentDiv("jQui_ajax",i.responseText),jq("#jQui_ajax").get(0).title=f.title?f.title:a,h.loadContent("#jQui_ajax",b,c),d=!0),k=document.createElement("div"),k.innerHTML=i.responseText,h.parseScriptTags(k),d?(h.showLoading&&h.hideMask(),void 0):(h.loadContent("#"+g),h.showLoading&&h.hideMask(),null)):void 0},ajaxUrl=a,j=this.useAjaxCacheBuster?a+(a.split("?")[1]?"&":"?")+"cache="+1e16*Math.random():a,i.open("GET",j,!0),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(),this.showLoading&&this.showMask())},runTransition:function(a,b,c,d){this.availableTransitions[a]||(a="default"),this.availableTransitions[a].call(this,b,c,d)},launch:function(){var c,d,g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(0==this.hasLaunched||this.launchCompleted)return this.hasLaunched=!0,void 0;for(c=this,this.isAppMobi=window.AppMobi&&"object"==typeof AppMobi&&void 0!==AppMobi.app?!0:!1,this.viewportContainer=jq("#jQUi"),this.navbar=jq("#navbar").get(0),this.content=jq("#content").get(0),this.header=jq("#header").get(0),this.menu=jq("#menu").get(0),this.viewportContainer[0].addEventListener("click",function(a){var c=a.target;b(a,c)},!1),d=null,a.bind(a.touchLayer,"enter-edit",function(a){d=a}),a.bind(a.touchLayer,"enter-edit-reshape",function(){var b,e,f,g,h=a(d),i=h.closest(c.activeDiv);i&&i.size()>0&&(a.os.ios||a.os.chrome?(b=document.body.scrollTop?document.body.scrollTop-i.offset().top:0,e=i.offset().bottom-h.offset().bottom,c.scrollingDivs[c.activeDiv.id].setPaddings(b,e)):(a.os.android||a.os.blackberry)&&(f=h.offset(),g=i.offset(),f.bottom>g.bottom&&f.height<g.height&&c.scrollingDivs[c.activeDiv.id].scrollToItem(h,"bottom")))}),a.os.ios&&a.bind(a.touchLayer,"exit-edit-reshape",function(){c.scrollingDivs[c.activeDiv.id].setPaddings(0,0)}),this.navbar||(this.navbar=document.createElement("div"),this.navbar.id="navbar",this.navbar.style.cssText="display:none",this.viewportContainer.append(this.navbar)),this.header||(this.header=document.createElement("div"),this.header.id="header",this.viewportContainer.prepend(this.header)),this.menu||(this.menu=document.createElement("div"),this.menu.id="menu",this.menu.innerHTML='<div id="menu_scroller"></div>',this.viewportContainer.append(this.menu),this.menu.style.overflow="hidden",this.scrollingDivs.menu_scroller=jq("#menu_scroller").scroller({scrollBars:!0,verticalScroll:!0,vScrollCSS:"jqmScrollbar",useJsScroll:!a.feat.nativeTouchScroll,noParent:a.feat.nativeTouchScroll}),a.feat.nativeTouchScroll&&a("#menu_scroller").css("height","100%")),this.content||(this.content=document.createElement("div"),this.content.id="content",this.viewportContainer.append(this.content)),this.header.innerHTML='<a id="backButton"  href="javascript:;"></a> <h1 id="pageTitle"></h1>'+header.innerHTML,this.backButton=a("#header #backButton").get(0),this.backButton.className="button",jq(document).on("click","#header #backButton",function(a){a.preventDefault(),c.goBack()}),this.backButton.style.visibility="hidden",this.titleBar=a("#header #pageTitle").get(0),this.addContentDiv("jQui_ajax",""),g=document.createElement("div"),g.id="jQui_mask",g.className="ui-loader",g.innerHTML="<span class='ui-icon ui-icon-loading spin'></span><h1>Loading Content</h1>",g.style.zIndex=2e4,g.style.display="none",document.body.appendChild(g),h=document.createElement("div"),h.id="jQui_modal",this.viewportContainer.prepend(h),h.appendChild(jq("<div id='modalContainer'></div>").get()),this.scrollingDivs.modal_container=jq("#modalContainer").scroller({scrollBars:!0,vertical:!0,vScrollCSS:"jqmScrollbar",noParent:!0}),this.modalWindow=h,i={},j=this.viewportContainer.get().querySelectorAll(".panel"),k=0;k<j.length;k++)l=j[k],m=l,o=l.previousSibling,l.parentNode&&"content"!=l.parentNode.id?(l.parentNode.removeChild(l),n=l.id,m.getAttribute("selected")&&(this.firstDiv=jq("#"+n).get(0)),this.addDivAndScroll(m),jq("#"+n).insertAfter(o)):l.parsedContent||(l.parsedContent=1,l.parentNode.removeChild(l),n=l.id,m.getAttribute("selected")&&(this.firstDiv=jq("#"+n).get(0)),this.addDivAndScroll(m),jq("#"+n).insertAfter(o)),l.getAttribute("data-defer")&&(i[n]=l.getAttribute("data-defer")),this.firstDiv||(this.firstDiv=a("#"+n).get(0)),l=null;if(j=null,p=!1,q=Object.keys(i).length,q>0){p=!0,r=0;for(s in i)!function(b){jq.ajax({url:AppMobi.webRoot+i[b],success:function(d){0!=d.length&&(a.ui.updateContentDiv(b,d),c.parseScriptTags(jq(b).get()),r++,r>=q&&(a(document).trigger("defer:loaded"),p=!1))},error:function(){console.log("Error with deferred load "+AppMobi.webRoot+i[b]),r++,r>=q&&(a(document).trigger("defer:loaded"),p=!1)}})}(s)}this.firstDiv&&(c=this,this.activeDiv=this.firstDiv,this.scrollingDivs[this.activeDiv.id]&&this.scrollingDivs[this.activeDiv.id].enable(),t=function(){var b,d;jq("#navbar a").length>0&&(jq("#navbar a").data("ignore-pressed","true").data("resetHistory","true"),c.defaultFooter=jq("#navbar").children().clone(),c.updateNavbarElements(c.defaultFooter)),b=jq("nav").get(),b&&(c.defaultMenu=jq(b).children().clone(),c.updateSideMenu(c.defaultMenu)),c.defaultHeader=jq("#header").children().clone(),jq("#navbar").on("click","a",function(b){jq("#navbar a").not(this).removeClass("selected"),a(b.target).addClass("selected")}),d=c.getPanelId(e),d.length>0&&c.loadDefaultHash&&d!="#"+c.firstDiv.id&&a(d).length>0?c.loadContent(e,!0,!1,"none"):(f="#"+c.firstDiv.id,c.parsePanelFunctions(c.firstDiv),c.loadContentData(c.firstDiv),c.firstDiv.style.display="block",a("#header #backButton").css("visibility","hidden"),("true"==c.firstDiv.getAttribute("data-modal")||"true"==c.firstDiv.getAttribute("modal"))&&c.showModal(c.firstDiv.id)),c.launchCompleted=!0,jq("nav").length>0&&(jq("#jQUi #header").addClass("hasMenu off"),jq("#jQUi #content").addClass("hasMenu off"),jq("#jQUi #navbar").addClass("hasMenu off")),jq(document).trigger("jq.ui.ready"),jq("#splashscreen").remove()},p?a(document).one("defer:loaded",t):t()),c=this,a.bind(c,"content-loaded",function(){if(c.loadContentQueue.length>0){var a=c.loadContentQueue.splice(0,1)[0];c.loadContent(a[0],a[1],a[2],a[3],a[4])}}),window.navigator.standalone&&this.blockPageScroll(),this.topClickScroll()},topClickScroll:function(){document.getElementById("header").addEventListener("click",function(b){b.clientY<=15&&"h1"==b.target.nodeName.toLowerCase()&&a.ui.scrollingDivs[a.ui.activeDiv.id].scrollToTop("100")})},blockPageScroll:function(){jq("#jQUi #header").bind("touchmove",function(a){a.preventDefault()})},noTransition:function(a,b){b.style.display="block",a.style.display="block";var c=this;c.clearAnimations(b),c.css3animate(a,{x:"0%",y:0}),c.finishTransition(a),b.style.zIndex=2,a.style.zIndex=1},finishTransition:function(b,c){b.style.display="none",this.doingTransition=!1,c&&this.clearAnimations(c),b&&this.clearAnimations(b),a.trigger(this,"content-loaded")},clearAnimations:function(b){b.style[a.feat.cssPrefix+"Transform"]="none",b.style[a.feat.cssPrefix+"Transition"]="none"}},b=function(a,c){var d,e,f,g,h;if(c!=jQUi){if("a"!=c.tagName.toLowerCase()&&c.parentNode)return b(a,c.parentNode);if("undefined"!==c.tagName&&"a"==c.tagName.toLowerCase()){if(d="function"==typeof jq.ui.customClickHandler?jq.ui.customClickHandler:!1,d!==!1&&jq.ui.customClickHandler(c))return a.preventDefault();if(-1!==c.href.toLowerCase().indexOf("javascript:")||c.getAttribute("data-ignore"))return;if(0===c.href.indexOf("tel:"))return!1;if(-1===c.hash.indexOf("#")&&c.target.length>0)return 0!=c.href.toLowerCase().indexOf("javascript:")&&(jq.ui.isAppMobi?(a.preventDefault(),AppMobi.device.launchExternal(c.href)):jq.os.desktop||(a.target.target="_blank")),void 0;if(e=c.href,f=location.protocol+"//"+location.hostname+":"+location.port,0===e.indexOf(f)&&(e=e.substring(f.length+1)),"#"==e||e.indexOf("#")===e.length-1||0==e.length&&0==c.hash.length)return;return a.preventDefault(),g=c.getAttribute("data-transition"),h=c.getAttribute("data-resetHistory"),h=h&&"true"==h.toLowerCase()?!0:!1,e=c.hash.length>0?c.hash:c.href,jq.ui.loadContent(e,h,0,g,c),void 0}}},c="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",d=function(a,b){var d,e,f,g;for(void 0==b&&(b=0),d=0,e=0,b=-1^b,f=0,g=a.length;g>f;f++)d=255&(b^a.charCodeAt(f)),e="0x"+c.substr(9*d,8),b=b>>>8^e;return-1^b},a.ui=new g}(jq),function(a){a(document).one("appMobi.device.ready",function(){setTimeout(function(){document.getElementById("jQUi").style.height="100%",document.body.style.height="100%",document.documentElement.style.minHeight=window.innerHeight},300),a.ui.ready(function(){a.ui.blockPageScroll()})}),a.feat.nativeTouchScroll&&document.addEventListener("orientationchange",function(){if(a.ui.scrollingDivs[a.ui.activeDiv.id]){var b=a.ui.scrollingDivs[a.ui.activeDiv.id];0==b.el.scrollTop&&(b.disable(),setTimeout(function(){b.enable()},300))}})}(jq),function(a){function b(a,b,c){a.style.display="block",b.style.display="block";var d=this;c?(b.style.zIndex=1,a.style.zIndex=2,d.clearAnimations(b),d.css3animate(a,{x:"0%",time:"150ms",opacity:.1,complete:function(c){return c?(d.finishTransition(a,b),void 0):(d.css3animate(a,{x:"-100%",opacity:1,complete:function(){d.finishTransition(a)}}),b.style.zIndex=2,a.style.zIndex=1,void 0)}})):(a.style.zIndex=1,b.style.zIndex=2,b.style.opacity=0,d.css3animate(b,{x:"0%",opacity:.1,complete:function(){d.css3animate(b,{x:"0%",time:"150ms",opacity:1,complete:function(c){return c?(d.finishTransition(a,b),void 0):(d.clearAnimations(b),d.css3animate(a,{x:"-100%",y:0,complete:function(){d.finishTransition(a)}}),void 0)}})}}))}a.availableTransitions.fade=b}(jq.ui),function(a){function b(a,b,c){a.style.display="block",b.style.display="block";var d=this;c?(d.css3animate(b,{x:"100%",scale:.8,rotateY:"180deg",complete:function(){d.css3animate(b,{x:"0%",scale:1,time:"150ms",rotateY:"0deg",complete:function(){d.clearAnimations(b)}})}}),d.css3animate(a,{x:"100%",time:"150ms",scale:.8,rotateY:"180deg",complete:function(){d.css3animate(a,{x:"-100%",opacity:1,scale:1,rotateY:"0deg",complete:function(){d.finishTransition(a)}}),b.style.zIndex=2,a.style.zIndex=1}})):(a.style.zIndex=1,b.style.zIndex=2,d.css3animate(a,{x:"100%",time:"150ms",scale:.8,rotateY:"180deg",complete:function(){d.css3animate(a,{x:"-100%",y:0,time:"1ms",scale:1,rotateY:"0deg",complete:function(){d.finishTransition(a)}})}}),d.css3animate(b,{x:"100%",time:"1ms",scale:.8,rotateY:"180deg",complete:function(){d.css3animate(b,{x:"0%",time:"150ms",scale:1,rotateY:"0deg",complete:function(){d.clearAnimations(b)}})}}))}a.availableTransitions.flip=b}(jq.ui),function(a){function b(a,b,c){a.style.display="block",b.style.display="block";var d=this;c?(b.style.zIndex=1,a.style.zIndex=2,d.clearAnimations(b),d.css3animate(a,{x:"0%",time:"150ms",opacity:.1,scale:.2,origin:"-50% 50%",complete:function(c){return c?(d.finishTransition(a),void 0):(d.css3animate(a,{x:"-100%",complete:function(){d.finishTransition(a)}}),b.style.zIndex=2,a.style.zIndex=1,void 0)}})):(a.style.zIndex=1,b.style.zIndex=2,d.css3animate(b,{x:"0%",y:"0%",scale:.2,origin:"-50% 50%",opacity:.1,complete:function(){d.css3animate(b,{x:"0%",time:"150ms",scale:1,opacity:1,origin:"0% 0%",complete:function(c){return c?(d.finishTransition(a,b),void 0):(d.clearAnimations(b),d.css3animate(a,{x:"100%",y:0,complete:function(){d.finishTransition(a)}}),void 0)}})}}))}a.availableTransitions.pop=b}(jq.ui),function(a){function b(a,b,c){a.style.display="block",b.style.display="block";var d=this;c?d.css3animate(a,{x:"0%",y:"0%",complete:function(){d.css3animate(a,{x:"100%",time:"150ms",complete:function(){d.finishTransition(a,b)}}).link(b,{x:"0%",time:"150ms"})}}).link(b,{x:"-100%",y:"0%"}):d.css3animate(a,{x:"0%",y:"0%",complete:function(){d.css3animate(a,{x:"-100%",time:"150ms",complete:function(){d.finishTransition(a,b)}}).link(b,{x:"0%",time:"150ms"})}}).link(b,{x:"100%",y:"0%"})}a.availableTransitions.slide=b,a.availableTransitions["default"]=b}(jq.ui),function(a){function b(a,b,c){a.style.display="block",b.style.display="block";var d=this;c?(b.style.zIndex=1,a.style.zIndex=2,d.clearAnimations(b),d.css3animate(a,{y:"-100%",x:"0%",time:"150ms",complete:function(c){return c?(d.finishTransition(a,b),void 0):(d.css3animate(a,{x:"-100%",y:0,complete:function(){d.finishTransition(a)}}),b.style.zIndex=2,a.style.zIndex=1,void 0)}})):(a.style.zIndex=1,b.style.zIndex=2,d.css3animate(b,{y:"-100%",x:"0%",complete:function(){d.css3animate(b,{y:"0%",x:"0%",time:"150ms",complete:function(c){return c?(d.finishTransition(a,b),void 0):(d.clearAnimations(b),d.css3animate(a,{x:"-100%",y:0,complete:function(){d.finishTransition(a)}}),void 0)}})}}))}a.availableTransitions.down=b}(jq.ui),function(a){function b(a,b,c){a.style.display="block",b.style.display="block";var d=this;c?(b.style.zIndex=1,a.style.zIndex=2,d.clearAnimations(b),d.css3animate(a,{y:"100%",x:"0%",time:"150ms",complete:function(){d.finishTransition(a),b.style.zIndex=2,a.style.zIndex=1}})):(b.style.zIndex=2,a.style.zIndex=1,d.css3animate(b,{y:"100%",x:"0%",complete:function(){d.css3animate(b,{y:"0%",x:"0%",time:"150ms",complete:function(c){return c?(d.finishTransition(a,b),void 0):(d.clearAnimations(b),d.css3animate(a,{x:"-100%",y:0,complete:function(){d.finishTransition(a)}}),void 0)}})}}))}a.availableTransitions.up=b}(jq.ui);
/*! petal_client 2013-07-08 */
!function(){$.ui.isAjaxApp=!1,$.ui.openLinksNewTab=!1,$.ui.resetScrollers=!1,$.ui.autoLaunch=!1,$.ui.showBackbutton=!1,$.ui.customClickHandler=function(){return!0},$.ui.ready(function(){var a=document.getElementsByTagName("HEAD").item(0),b=document.createElement("script");b.setAttribute("data-main","/script/main.js"),b.src="/script/lib/require.js",a.appendChild(b)});var a=function(){AppMobi.device.setRotateOrientation("portrait"),AppMobi.device.setAutoRotate(!1),webRoot=AppMobi.webRoot+"/",AppMobi.device.hideSplashScreen()};document.addEventListener("appMobi.device.ready",a,!1),window.updateSysNotice=function(a){window.$sysNotice=window.$sysNotice||$("#system_notice_box"),window.$sysNotice.text(a).attr("style","margin-left: -"+window.$sysNotice.width()/2+"px;z-index: 9999"),setTimeout(function(){window.$sysNotice.attr("style","z-index: -9999")},2e3)};var b=function(){window.localStorage.setItem("petal:object_user_info",""),window.localStorage.setItem("petal:is_new_login","true"),window.localStorage.setItem("petal:root_msg_id","0"),window.localStorage.setItem("petal:send_msg_target_user_id","")},c=function(a,c,d){$.post("/api/do_login",{username:a,password:c},function(a){try{var c=JSON.parse(a);if("ok"===c.result){var e=JSON.stringify(c.user_info);if("undefined"==typeof e)throw new Error("json stringify user_info error");b(),window.location.hash="",window.localStorage.setItem("petal:object_user_info",e),window.localStorage.setItem("petal:is_new_login","true"),$.ui.launch()}else logging=!1,d()}catch(f){console.log("登录时发生异常"),console.dir(f.stack),logging=!1,d()}})},d=function(){$.get("/api/get_username_by_wx_id?wx_id="+window.location.hash.replace(/^\#/,""),function(a){var b=JSON.parse(a);"ok"===b[0]&&c(b[1].username,"huaban123",function(){window.location.hash="",window.location.reload()})})},e=function(){$("#splashscreen").hide();var a=window.localStorage.getItem("petal:object_user_info");if(null===a||""===a)if(""!==window.location.hash)d();else{var b=$("#login").show(),e=b.find(".username"),f=b.find(".password");b.find(".do_login").click(function(){c(e.val(),f.val(),function(){window.updateSysNotice("用户名或密码错误")})})}else $.ui.launch()};document.addEventListener("DOMContentLoaded",e,!1),$.ui.addOrUpdateDiv=function(a,b,c){0===$("#"+a).length?$.ui.addContentDiv(a,b,!0,!0):$.ui.updateContentDiv(a,b);var d=$("#"+a);return("undefined"==typeof c||c===!1)&&d.attr("data-footer","none"),d.unbind()},$.ui.goBackWithDefault=function(){1===$.ui.history.length?window.router.navigate("/#stream",{trigger:!0}):$.ui.goBack()}}();