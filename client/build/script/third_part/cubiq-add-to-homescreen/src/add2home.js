var addToHome=function(a){function b(){if(y){var b,d=Date.now();if(a.addToHomeConfig)for(b in a.addToHomeConfig)C[b]=a.addToHomeConfig[b];C.autostart||(C.hookOnLoad=!1),l=/ipad/gi.test(x.platform),m=a.devicePixelRatio&&a.devicePixelRatio>1,n=/Safari/i.test(x.appVersion)&&!/CriOS/i.test(x.appVersion),o=x.standalone,p=x.appVersion.match(/OS (\d+_\d+)/i),p=p&&p[1]?+p[1].replace("_","."):0,B=+a.localStorage.getItem("addToHome"),r=a.sessionStorage.getItem("addToHomeSession"),s=C.returningVisitor?B&&B+24192e5>d:!0,B||(B=d),q=s&&d>=B,C.hookOnLoad?a.addEventListener("load",c,!1):!C.hookOnLoad&&C.autostart&&c()}}function c(){if(a.removeEventListener("load",c,!1),s?C.expire&&q&&a.localStorage.setItem("addToHome",Date.now()+6e4*C.expire):a.localStorage.setItem("addToHome",Date.now()),u||n&&q&&!r&&!o&&s){var b="",e=x.platform.split(" ")[0],f=x.language.replace("-","_");t=document.createElement("div"),t.id="addToHomeScreen",t.style.cssText+="left:-9999px;-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0;-webkit-transform:translate3d(0,0,0);position:"+(5>p?"absolute":"fixed"),C.message in D&&(f=C.message,C.message=""),""===C.message&&(C.message=f in D?D[f]:D.zh_cn),C.touchIcon&&(b=m?document.querySelector('head link[rel^=apple-touch-icon][sizes="114x114"],head link[rel^=apple-touch-icon][sizes="144x144"],head link[rel^=apple-touch-icon]'):document.querySelector('head link[rel^=apple-touch-icon][sizes="57x57"],head link[rel^=apple-touch-icon]'),b&&(b='<span style="background-image:url('+b.href+')" class="addToHomeTouchIcon"></span>')),t.className=(l?"addToHomeIpad":"addToHomeIphone")+(b?" addToHomeWide":""),t.innerHTML=b+C.message.replace("%device",e).replace("%icon",p>=4.2?'<span class="addToHomeShare"></span>':'<span class="addToHomePlus">+</span>')+(C.arrow?'<span class="addToHomeArrow"></span>':"")+(C.closeButton?'<span class="addToHomeClose">×</span>':""),document.body.appendChild(t),C.closeButton&&t.addEventListener("click",g,!1),!l&&p>=6&&window.addEventListener("orientationchange",k,!1),setTimeout(d,C.startDelay)}}function d(){var b,c=208;if(l)switch(5>p?(A=a.scrollY,z=a.scrollX):6>p&&(c=160),t.style.top=A+C.bottomOffset+"px",t.style.left=z+c-Math.round(t.offsetWidth/2)+"px",C.animationIn){case"drop":b="0.6s",t.style.webkitTransform="translate3d(0,"+-(a.scrollY+C.bottomOffset+t.offsetHeight)+"px,0)";break;case"bubble":b="0.6s",t.style.opacity="0",t.style.webkitTransform="translate3d(0,"+(A+50)+"px,0)";break;default:b="1s",t.style.opacity="0"}else switch(A=a.innerHeight+a.scrollY,5>p?(z=Math.round((a.innerWidth-t.offsetWidth)/2)+a.scrollX,t.style.left=z+"px",t.style.top=A-t.offsetHeight-C.bottomOffset+"px"):(t.style.left="50%",t.style.marginLeft=-Math.round(t.offsetWidth/2)-(a.orientation%180&&p>=6?40:0)+"px",t.style.bottom=C.bottomOffset+"px"),C.animationIn){case"drop":b="1s",t.style.webkitTransform="translate3d(0,"+-(A+C.bottomOffset)+"px,0)";break;case"bubble":b="0.6s",t.style.webkitTransform="translate3d(0,"+(t.offsetHeight+C.bottomOffset+50)+"px,0)";break;default:b="1s",t.style.opacity="0"}t.offsetHeight,t.style.webkitTransitionDuration=b,t.style.opacity="1",t.style.webkitTransform="translate3d(0,0,0)",t.addEventListener("webkitTransitionEnd",h,!1),w=setTimeout(f,C.lifespan)}function e(a){y&&!t&&(u=a,c())}function f(){if(clearInterval(v),clearTimeout(w),w=null,t){var b=0,c=0,d="1",e="0";switch(C.closeButton&&t.removeEventListener("click",g,!1),!l&&p>=6&&window.removeEventListener("orientationchange",k,!1),5>p&&(b=l?a.scrollY-A:a.scrollY+a.innerHeight-A,c=l?a.scrollX-z:a.scrollX+Math.round((a.innerWidth-t.offsetWidth)/2)-z),t.style.webkitTransitionProperty="-webkit-transform,opacity",C.animationOut){case"drop":l?(e="0.4s",d="0",b+=50):(e="0.6s",b+=t.offsetHeight+C.bottomOffset+50);break;case"bubble":l?(e="0.8s",b-=t.offsetHeight+C.bottomOffset+50):(e="0.4s",d="0",b-=50);break;default:e="0.8s",d="0"}t.addEventListener("webkitTransitionEnd",h,!1),t.style.opacity=d,t.style.webkitTransitionDuration=e,t.style.webkitTransform="translate3d("+c+"px,"+b+"px,0)"}}function g(){a.sessionStorage.setItem("addToHomeSession","1"),r=!0,f()}function h(){return t.removeEventListener("webkitTransitionEnd",h,!1),t.style.webkitTransitionProperty="-webkit-transform",t.style.webkitTransitionDuration="0.2s",w?(5>p&&w&&(v=setInterval(i,C.iterations)),void 0):(t.parentNode.removeChild(t),t=null,void 0)}function i(){var b=new WebKitCSSMatrix(a.getComputedStyle(t,null).webkitTransform),c=l?a.scrollY-A:a.scrollY+a.innerHeight-A,d=l?a.scrollX-z:a.scrollX+Math.round((a.innerWidth-t.offsetWidth)/2)-z;(c!=b.m42||d!=b.m41)&&(t.style.webkitTransform="translate3d("+d+"px,"+c+"px,0)")}function j(){a.localStorage.removeItem("addToHome"),a.sessionStorage.removeItem("addToHomeSession")}function k(){t.style.marginLeft=-Math.round(t.offsetWidth/2)-(a.orientation%180&&p>=6?40:0)+"px"}var l,m,n,o,p,q,r,s,t,u,v,w,x=a.navigator,y="platform"in x&&/iphone|ipod|ipad/gi.test(x.platform),z=0,A=0,B=0,C={autostart:!0,returningVisitor:!1,animationIn:"drop",animationOut:"fade",startDelay:2e3,lifespan:15e3,bottomOffset:14,expire:0,message:"",touchIcon:!1,arrow:!0,hookOnLoad:!0,closeButton:!0,iterations:100},D={zh_cn:"您可以将此应用程式安装到您的 %device 上。请按 %icon 然后点选<strong>添加至主屏幕</strong>。"};return b(),{show:e,close:f,reset:j}}(window);